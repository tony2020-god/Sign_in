
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/5_lottery/程式/weel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '231fb6ZVWNN944v7V0dlDwZ', 'weel');
// 5_lottery/程式/weel.js

"use strict";

var gameModel = require("Model");

var Wheel_Prize_information = require("prizeInformation");

var WinnerItem = require("Host1_Congratulations");

var Guest_Prize = require("Guest1_PrizeInformation");

cc.Class({
  "extends": cc.Component,
  properties: {
    wheel: {
      "default": null,
      type: cc.Node
    },
    wheel_out: {
      "default": null,
      type: cc.Node
    },
    Title: {
      "default": null,
      type: cc.Node
    },
    TopLight: {
      "default": null,
      type: cc.Node
    },
    Nail: {
      "default": null,
      type: cc.Node
    },
    wheel_out_Light: {
      "default": null,
      type: cc.Node
    },
    Prize: {
      "default": null,
      type: cc.Node
    },
    ChanceText: {
      "default": null,
      type: cc.Label
    },
    AlretNode: {
      "default": null,
      type: cc.Node
    },
    cannnottouch: {
      "default": null,
      type: cc.Node
    },
    Prizes_Infor: {
      "default": null,
      type: cc.Node
    },
    items: {
      "default": null,
      type: cc.Prefab
    },
    items_parent: {
      "default": null,
      type: cc.Node
    },
    Steam: {
      "default": null,
      type: cc.Node
    },
    wheel_sound: {
      "default": [],
      type: cc.AudioClip
    },
    prize_picture: {
      "default": null,
      type: cc.Node
    }
  },
  onLoad: function onLoad() {
    gameModel.Game_js = this;
    gameModel.Prize_Infromation();
    this.indexcount = 0;
    this.index = [];
    this.itemlist = [];
    this.Prize_total = 8;
    this.wheelState = 0;
    this.Prize_ID = 0;
    this.IDAngle = 360 / this.Prize_total; //每个編號的角度

    this.Prize_Angle = 0; //得獎獎品的角度

    this.prizenode = this.Prize.getChildByName("得獎懸浮窗");
    this.Wheel_Prize = cc.find("畫布/輪盤/輪盤_內/獎項");
    this.GamePrizeInfor = cc.find("畫布").getComponent(Guest_Prize);
    this.ThanksJoin = [];
  },
  start: function start() {
    if (gameModel.role == "guest") {
      this.ChanceText.string = gameModel.chance;
      gameModel.mode = "simultaneous";
    } else gameModel.mode = "order";

    this.AlertText = this.AlretNode.getChildByName("警告文字").getComponent(cc.Label);
  },
  SpawnPrize: function SpawnPrize() {
    for (var i = 0; i < gameModel.Prizestack_id.length; i++) {
      if (gameModel.Prizestack_id[i] == "") this.ThanksJoin.push(i);
      this.Prizes_Infor.children[i].getComponent(cc.Label).string = gameModel.Prizestack_name[i];
      var Prize_Image = this.Prizes_Infor.children[i].getChildByName("獎品照片框").getChildByName("遮罩").getChildByName("獎品照片").getComponent(Wheel_Prize_information);
      Prize_Image.setinformation(i);
    }
  },
  //按下開始遊戲鍵，重置參數
  StartBtn: function StartBtn() {
    if (gameModel.CannotJoinGame != "") {
      this.AlertText.string = "沒有獎品了，無法抽獎，請主持人新增獎品後重新刷新頁面";
      this.AlretNode.active = true;
      return;
    }

    if (this.wheelState !== 0 || gameModel.mode != "order" && gameModel.role == "host") return;

    if (gameModel.role == "guest") {
      if (gameModel.chance == 0) {
        this.AlertText.string = "沒有抽獎機會了，無法抽獎";
        this.AlretNode.active = true;
        return;
      } else {
        if (gameModel.AllowRePrize == "close" && gameModel.PrizeStaffs.length > 0) {
          this.AlertText.string = "錯誤 :該場次遊戲不允許重複中獎，您已中獎，無法參加遊戲抽獎";
          this.AlretNode.active = true;
          return;
        } else {
          gameModel.chance--;
          this.ChanceText.string = gameModel.chance;
        }
      }
    }

    if (gameModel.role == "host") this.currentsound = cc.audioEngine.play(this.wheel_sound[0], false, 1);
    this.cannnottouch.active = true;
    this.wheelState = 1;
    this.aniSlow_In();
  },
  //輪盤加速，緩入動作
  aniSlow_In: function aniSlow_In() {
    var _this = this;

    this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0, "Rotate", true);
    this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 5; //緩入動畫

    var ani_SlowIn = cc.tween(this.wheel).by(2, {
      angle: 360
    }, {
      easing: 'circIn'
    }).call(function () {
      _this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 10;
    }); //持續旋轉動畫

    var KeepTurn = cc.tween(this.wheel).by(0.35, {
      angle: 360
    }).repeatForever();
    this.ani_wheelState1 = cc.tween(this.wheel).then(ani_SlowIn).then(KeepTurn).start();

    if (gameModel.role == "host") {
      this.scheduleOnce(function () {
        this.currentsound = cc.audioEngine.play(this.wheel_sound[1], true, 1);
      }, 2);
    }

    this.scheduleOnce(function () {
      gameModel.Lottery_Guest();
    }, 5);
  },
  //獎品資訊送達
  lettorey: function lettorey() {
    if (gameModel.role == "host") cc.audioEngine.pauseAllEffects();

    if (gameModel.CannotJoinGame != "") {
      this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 1;
      this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0, "5", false);
      this.wheel_out.getComponent(sp.Skeleton).setAnimation(0, "Broken", true);
      this.Title.getComponent(sp.Skeleton).setAnimation(0, "Broken", false);
      this.Nail.getComponent(sp.Skeleton).setAnimation(0, "Broken", false);

      if (cc.director.getScene()._name.includes("Host")) {
        this.Steam.getComponent(sp.Skeleton).setAnimation(0, "Broken_PC", true);
        this.currentsound = cc.audioEngine.play(this.wheel_sound[9], false, 0.7);
      } else this.Steam.getComponent(sp.Skeleton).setAnimation(0, "Broken_M", false);

      this.scheduleOnce(function () {
        this.AlertText.string = "沒有獎品了，無法抽獎，請主持人新增獎品後重新刷新頁面";
        this.AlretNode.active = true;
        this.ani_wheelState1.stop();
        this.wheel.rotation = 0;
      }, 1.2);
      return;
    }

    for (var i = 0; i < gameModel.Prizestack_id.length; i++) {
      if (gameModel.prize_ID != "" && gameModel.Prizestack_id[i] == gameModel.prize_ID) this.Prize_ID = i;else if (gameModel.prize_ID == "") {
        var randomIndex = Math.floor(Math.random() * this.ThanksJoin.length); //隨機獎品

        this.Prize_ID = this.ThanksJoin[randomIndex];
      }
    }

    if (gameModel.role == "host") this.currentsound = cc.audioEngine.play(this.wheel_sound[2], false, 1);
    this.Prize_Angle = this.Prize_ID * this.IDAngle; //最終角度 = 360 - 目標編號 * 每個編號的角度

    this.FinalAngle = this.Prize_Angle + Math.floor(Math.random() * (this.IDAngle - (3 + 1)) + 3); //使指針不會每次都在格子中間

    this.wheelState = 2;
    this.aniSlow_Out();
  },
  //輪盤減速，緩出動作
  aniSlow_Out: function aniSlow_Out() {
    var self = this;
    this.ani_wheelState1.stop();
    var RandomEffect = Math.round(Math.random()); //隨機選擇緩出效果

    var StopEffect = RandomEffect == 1 ? "circOut" : "backOut"; //緩出效果

    var NewCircle = Math.ceil(this.wheel.angle / 360); //四捨五入的圈數

    var lerp = NewCircle * 360 - this.wheel.angle; //差值 = 四捨五入的圈數 * 360 - 目前角度

    this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 5; //緩出動畫

    cc.tween(this.wheel).by(5, {
      angle: 360 + lerp + self.FinalAngle
    }, {
      easing: StopEffect
    }).call(function () {
      self.StopWeel();
    }).start();
  },
  //輪盤停下，顯示獎品
  StopWeel: function StopWeel() {
    this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 1;

    if (gameModel.prize_type == "first") {
      this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0, "1", false);
      this.wheel_out.getComponent(sp.Skeleton).setAnimation(0, "Roll", false);
      this.Title.getComponent(sp.Skeleton).setAnimation(0, "Roll", false);
      this.Nail.getComponent(sp.Skeleton).setAnimation(0, "Roll", false);

      if (cc.director.getScene()._name.includes("Host")) {
        this.TopLight.getComponent(sp.Skeleton).setAnimation(0, "Roll_PC", false);
        this.currentsound = cc.audioEngine.play(this.wheel_sound[3], false, 0.5);
      } else this.TopLight.getComponent(sp.Skeleton).setAnimation(0, "Roll_M", false);
    } else if (gameModel.prize_type == "second") {
      this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0, "2", false);
      if (gameModel.role == "host") this.currentsound = cc.audioEngine.play(this.wheel_sound[4], false, 1);
    } else if (gameModel.prize_type == "third") {
      this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0, "3", false);
      if (gameModel.role == "host") this.currentsound = cc.audioEngine.play(this.wheel_sound[5], false, 1);
    } else if (gameModel.prize_type == "special") {
      this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0, "4", false);
      if (gameModel.role == "host") this.currentsound = cc.audioEngine.play(this.wheel_sound[6], false, 1);
    } else if (gameModel.prize_type == "thanks") {
      this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0, "5", false);
      if (gameModel.role == "host") this.currentsound = cc.audioEngine.play(this.wheel_sound[7], false, 1);
    }

    cc.tween(this.Wheel_Prize.children[this.Prize_ID].getChildByName("扇形")).to(0.3, {
      opacity: 255
    }).start();
    if (gameModel.role == "guest" && gameModel.prize_type != "thanks") this.GamePrizeInfor.SpawnPrize();
    this.scheduleOnce(function () {
      this.cannnottouch.active = false;
      this.ShowPrize();
    }, 2.3);
  },
  ClearWheelEffect: function ClearWheelEffect() {
    this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0, "usual", true);
    this.wheel_out.getComponent(sp.Skeleton).clearTracks();
    this.Title.getComponent(sp.Skeleton).setAnimation(0, "Usuall", true);
    this.Nail.getComponent(sp.Skeleton).clearTracks();
    this.TopLight.getComponent(sp.Skeleton).setAnimation(0, "usual", false);
    this.Steam.getComponent(sp.Skeleton).setAnimation(0, "Usuall", false);
  },
  ShowPrize: function ShowPrize() {
    var self = this;
    cc.assetManager.loadRemote(gameModel.prize_picture, {
      ext: '.jpg' || '.png'
    }, function (err, texture) {
      if (err) console.log("錯誤");else {
        var picture = new cc.SpriteFrame(texture); //texture 轉 SpriteFrame

        self.prize_picture.getComponent(cc.Sprite).spriteFrame = picture;
      }
    });
    this.Prize.getChildByName("得獎懸浮窗").getChildByName("獎項").getComponent(cc.Label).string = gameModel.prize_name_guest;
    this.Prize.getChildByName("得獎懸浮窗").getChildByName("哭臉").active = gameModel.prize_type == "thanks" ? true : false;
    this.Prize.getChildByName("得獎懸浮窗").getChildByName("得獎_中央圖標").active = gameModel.prize_type == "thanks" ? false : true;
    this.Prize.active = true;
    this.PrizeAni();
    if (gameModel.role == "host" && gameModel.prize_type != "thanks") this.currentsound = cc.audioEngine.play(this.wheel_sound[8], false, 1);
    if (gameModel.mode != "order" || gameModel.role == "guest" || gameModel.prize_type == "thanks") return;
    this.Congratulations();
  },
  PrizeAni: function PrizeAni() {
    this.wheelState = 0;
    cc.tween(this.prizenode).to(1, {
      scale: 1
    }, {
      easing: "elasticOut"
    }).start();
  },
  Congratulations: function Congratulations() {
    this.indexcount++;
    this.index.push(this.indexcount);
    var node = cc.instantiate(this.items);
    node.parent = this.items_parent;
    node.setSiblingIndex(0); //讓子物件顯示在最上層

    var obj = node.getComponent(WinnerItem); //抓取WinnerItem

    this.itemlist.push(obj);
    this.itemlist[this.indexcount - 1].updateInfo(this.indexcount - 1);
  },
  //關閉特定視窗
  closeFuc: function closeFuc(event, customEventData) {
    if (customEventData == "prize") {
      this.Prize.active = false;
      this.ClearWheelEffect();
      this.Wheel_Prize.children[this.Prize_ID].getChildByName("扇形").opacity = 0;
    } else if (customEventData == "alret" && gameModel.CannotJoinGame == "") this.AlretNode.active = false;

    this.prizenode.scale = (0, 0);
  },
  update: function update(dt) {
    if (gameModel.GameStatusMessage == "close" && gameModel.role == "guest") {
      this.AlertText.string = "請等待主辦方開啟同時參與模式才能進行遊戲";
      this.AlretNode.active = true;
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcNV9sb3R0ZXJ5XFznqIvlvI9cXHdlZWwuanMiXSwibmFtZXMiOlsiZ2FtZU1vZGVsIiwicmVxdWlyZSIsIldoZWVsX1ByaXplX2luZm9ybWF0aW9uIiwiV2lubmVySXRlbSIsIkd1ZXN0X1ByaXplIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJ3aGVlbCIsInR5cGUiLCJOb2RlIiwid2hlZWxfb3V0IiwiVGl0bGUiLCJUb3BMaWdodCIsIk5haWwiLCJ3aGVlbF9vdXRfTGlnaHQiLCJQcml6ZSIsIkNoYW5jZVRleHQiLCJMYWJlbCIsIkFscmV0Tm9kZSIsImNhbm5ub3R0b3VjaCIsIlByaXplc19JbmZvciIsIml0ZW1zIiwiUHJlZmFiIiwiaXRlbXNfcGFyZW50IiwiU3RlYW0iLCJ3aGVlbF9zb3VuZCIsIkF1ZGlvQ2xpcCIsInByaXplX3BpY3R1cmUiLCJvbkxvYWQiLCJHYW1lX2pzIiwiUHJpemVfSW5mcm9tYXRpb24iLCJpbmRleGNvdW50IiwiaW5kZXgiLCJpdGVtbGlzdCIsIlByaXplX3RvdGFsIiwid2hlZWxTdGF0ZSIsIlByaXplX0lEIiwiSURBbmdsZSIsIlByaXplX0FuZ2xlIiwicHJpemVub2RlIiwiZ2V0Q2hpbGRCeU5hbWUiLCJXaGVlbF9Qcml6ZSIsImZpbmQiLCJHYW1lUHJpemVJbmZvciIsImdldENvbXBvbmVudCIsIlRoYW5rc0pvaW4iLCJzdGFydCIsInJvbGUiLCJzdHJpbmciLCJjaGFuY2UiLCJtb2RlIiwiQWxlcnRUZXh0IiwiU3Bhd25Qcml6ZSIsImkiLCJQcml6ZXN0YWNrX2lkIiwibGVuZ3RoIiwicHVzaCIsImNoaWxkcmVuIiwiUHJpemVzdGFja19uYW1lIiwiUHJpemVfSW1hZ2UiLCJzZXRpbmZvcm1hdGlvbiIsIlN0YXJ0QnRuIiwiQ2Fubm90Sm9pbkdhbWUiLCJhY3RpdmUiLCJBbGxvd1JlUHJpemUiLCJQcml6ZVN0YWZmcyIsImN1cnJlbnRzb3VuZCIsImF1ZGlvRW5naW5lIiwicGxheSIsImFuaVNsb3dfSW4iLCJzcCIsIlNrZWxldG9uIiwic2V0QW5pbWF0aW9uIiwidGltZVNjYWxlIiwiYW5pX1Nsb3dJbiIsInR3ZWVuIiwiYnkiLCJhbmdsZSIsImVhc2luZyIsImNhbGwiLCJLZWVwVHVybiIsInJlcGVhdEZvcmV2ZXIiLCJhbmlfd2hlZWxTdGF0ZTEiLCJ0aGVuIiwic2NoZWR1bGVPbmNlIiwiTG90dGVyeV9HdWVzdCIsImxldHRvcmV5IiwicGF1c2VBbGxFZmZlY3RzIiwiZGlyZWN0b3IiLCJnZXRTY2VuZSIsIl9uYW1lIiwiaW5jbHVkZXMiLCJzdG9wIiwicm90YXRpb24iLCJwcml6ZV9JRCIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiRmluYWxBbmdsZSIsImFuaVNsb3dfT3V0Iiwic2VsZiIsIlJhbmRvbUVmZmVjdCIsInJvdW5kIiwiU3RvcEVmZmVjdCIsIk5ld0NpcmNsZSIsImNlaWwiLCJsZXJwIiwiU3RvcFdlZWwiLCJwcml6ZV90eXBlIiwidG8iLCJvcGFjaXR5IiwiU2hvd1ByaXplIiwiQ2xlYXJXaGVlbEVmZmVjdCIsImNsZWFyVHJhY2tzIiwiYXNzZXRNYW5hZ2VyIiwibG9hZFJlbW90ZSIsImV4dCIsImVyciIsInRleHR1cmUiLCJjb25zb2xlIiwibG9nIiwicGljdHVyZSIsIlNwcml0ZUZyYW1lIiwiU3ByaXRlIiwic3ByaXRlRnJhbWUiLCJwcml6ZV9uYW1lX2d1ZXN0IiwiUHJpemVBbmkiLCJDb25ncmF0dWxhdGlvbnMiLCJzY2FsZSIsIm5vZGUiLCJpbnN0YW50aWF0ZSIsInBhcmVudCIsInNldFNpYmxpbmdJbmRleCIsIm9iaiIsInVwZGF0ZUluZm8iLCJjbG9zZUZ1YyIsImV2ZW50IiwiY3VzdG9tRXZlbnREYXRhIiwidXBkYXRlIiwiZHQiLCJHYW1lU3RhdHVzTWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxPQUFELENBQXZCOztBQUNBLElB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LGVBdlZYLEVBdVYyQjtBQUM3QixRQUFHQSxlQUFlLElBQUksT0FBdEIsRUFDQTtBQUNDLFdBQUszSCxLQUFMLENBQVdnRCxNQUFYLEdBQW9CLEtBQXBCO0FBQ0EsV0FBS2tELGdCQUFMO0FBQ0EsV0FBS3hFLFdBQUwsQ0FBaUJnQixRQUFqQixDQUEwQixLQUFLckIsUUFBL0IsRUFBeUNJLGNBQXpDLENBQXdELElBQXhELEVBQThEdUUsT0FBOUQsR0FBd0UsQ0FBeEU7QUFDQSxLQUxELE1BTUssSUFBRzJCLGVBQWUsSUFBSSxPQUFuQixJQUE4QjVJLFNBQVMsQ0FBQ2dFLGNBQVYsSUFBNEIsRUFBN0QsRUFBaUUsS0FBSzVDLFNBQUwsQ0FBZTZDLE1BQWYsR0FBd0IsS0FBeEI7O0FBQ3RFLFNBQUt4QixTQUFMLENBQWUwRixLQUFmLElBQXdCLEdBQUUsQ0FBMUI7QUFDRixHQWhXSTtBQWtXTFUsRUFBQUEsTUFsV0ssa0JBa1dFQyxFQWxXRixFQWtXSztBQUNOLFFBQUk5SSxTQUFTLENBQUMrSSxpQkFBVixJQUErQixPQUEvQixJQUEwQy9JLFNBQVMsQ0FBQ2lELElBQVYsSUFBa0IsT0FBaEUsRUFDQTtBQUNFLFdBQUtJLFNBQUwsQ0FBZUgsTUFBZixHQUF3QixzQkFBeEI7QUFDQSxXQUFLOUIsU0FBTCxDQUFlNkMsTUFBZixHQUF3QixJQUF4QjtBQUNEO0FBQ0o7QUF4V0ksQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdhbWVNb2RlbCA9IHJlcXVpcmUoXCJNb2RlbFwiKTtcclxudmFyIFdoZWVsX1ByaXplX2luZm9ybWF0aW9uID0gcmVxdWlyZShcInByaXplSW5mb3JtYXRpb25cIik7XHJcbnZhciBXaW5uZXJJdGVtID0gcmVxdWlyZShcIkhvc3QxX0NvbmdyYXR1bGF0aW9uc1wiKTtcclxudmFyIEd1ZXN0X1ByaXplID0gcmVxdWlyZShcIkd1ZXN0MV9Qcml6ZUluZm9ybWF0aW9uXCIpXHJcblxyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIHdoZWVsOntcclxuICAgICAgICAgICAgZGVmYXVsdDpudWxsLFxyXG4gICAgICAgICAgICB0eXBlOmNjLk5vZGVcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB3aGVlbF9vdXQ6e1xyXG4gICAgICAgICAgICBkZWZhdWx0Om51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6Y2MuTm9kZVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFRpdGxlOntcclxuICAgICAgICAgICAgZGVmYXVsdDpudWxsLFxyXG4gICAgICAgICAgICB0eXBlOmNjLk5vZGVcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBUb3BMaWdodDp7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbCxcclxuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgTmFpbDp7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbCxcclxuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgd2hlZWxfb3V0X0xpZ2h0OntcclxuICAgICAgICAgICAgZGVmYXVsdDpudWxsLFxyXG4gICAgICAgICAgICB0eXBlOmNjLk5vZGVcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBQcml6ZTp7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbCxcclxuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgQ2hhbmNlVGV4dDp7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbCxcclxuICAgICAgICAgICAgdHlwZTpjYy5MYWJlbFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIEFscmV0Tm9kZTp7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbCxcclxuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2Fubm5vdHRvdWNoOntcclxuICAgICAgICAgICAgZGVmYXVsdDpudWxsLFxyXG4gICAgICAgICAgICB0eXBlOmNjLk5vZGVcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBQcml6ZXNfSW5mb3I6e1xyXG4gICAgICAgICAgICBkZWZhdWx0Om51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6Y2MuTm9kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXRlbXM6e1xyXG4gICAgICAgICAgICBkZWZhdWx0Om51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6Y2MuUHJlZmFiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpdGVtc19wYXJlbnQ6e1xyXG4gICAgICAgICAgICBkZWZhdWx0Om51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6Y2MuTm9kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgU3RlYW06e1xyXG4gICAgICAgICAgICBkZWZhdWx0Om51bGwsXHJcbiAgICAgICAgICAgIHR5cGU6Y2MuTm9kZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgd2hlZWxfc291bmQ6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogW10sXHJcbiAgICAgICAgICAgIHR5cGU6IGNjLkF1ZGlvQ2xpcFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJpemVfcGljdHVyZTp7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbCxcclxuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgb25Mb2FkKCkge1xyXG4gICAgICAgIGdhbWVNb2RlbC5HYW1lX2pzID0gdGhpc1xyXG4gICAgICAgIGdhbWVNb2RlbC5Qcml6ZV9JbmZyb21hdGlvbigpXHJcbiAgICAgICAgdGhpcy5pbmRleGNvdW50ID0gMFxyXG4gICAgICAgIHRoaXMuaW5kZXggPSBbXTtcclxuICAgICAgICB0aGlzLml0ZW1saXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5Qcml6ZV90b3RhbCA9IDhcclxuICAgICAgICB0aGlzLndoZWVsU3RhdGUgPSAwOyAgICAgXHJcbiAgICAgICAgdGhpcy5Qcml6ZV9JRCA9IDAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMuSURBbmdsZSA9IDM2MCAvIHRoaXMuUHJpemVfdG90YWw7ICAgLy/mr4/kuKrnt6jomZ/nmoTop5LluqZcclxuICAgICAgICB0aGlzLlByaXplX0FuZ2xlID0gMDsgICAgICAgICAgICAgICAgICAgLy/lvpfnjY7njY7lk4HnmoTop5LluqZcclxuICAgICAgICB0aGlzLnByaXplbm9kZSA9IHRoaXMuUHJpemUuZ2V0Q2hpbGRCeU5hbWUoXCLlvpfnjY7mh7jmta7nqpdcIilcclxuICAgICAgICB0aGlzLldoZWVsX1ByaXplID0gY2MuZmluZChcIueVq+W4gy/ovKrnm6Qv6Lyq55ukX+WFpy/njY7poIVcIilcclxuICAgICAgICB0aGlzLkdhbWVQcml6ZUluZm9yID0gY2MuZmluZChcIueVq+W4g1wiKS5nZXRDb21wb25lbnQoR3Vlc3RfUHJpemUpXHJcbiAgICAgICAgdGhpcy5UaGFua3NKb2luID0gW11cclxuICAgIH0sXHJcblxyXG4gICAgc3RhcnQoKXtcclxuICAgICAgICBpZihnYW1lTW9kZWwucm9sZSA9PSBcImd1ZXN0XCIpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5DaGFuY2VUZXh0LnN0cmluZyA9IGdhbWVNb2RlbC5jaGFuY2VcclxuICAgICAgICAgICAgZ2FtZU1vZGVsLm1vZGUgPSBcInNpbXVsdGFuZW91c1wiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgZ2FtZU1vZGVsLm1vZGUgPSBcIm9yZGVyXCJcclxuICAgICAgICB0aGlzLkFsZXJ0VGV4dCA9IHRoaXMuQWxyZXROb2RlLmdldENoaWxkQnlOYW1lKFwi6K2m5ZGK5paH5a2XXCIpLmdldENvbXBvbmVudChjYy5MYWJlbClcclxuICAgIH0sXHJcblxyXG4gICAgU3Bhd25Qcml6ZSgpe1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBnYW1lTW9kZWwuUHJpemVzdGFja19pZC5sZW5ndGg7IGkrKylcclxuICAgICAgICB7ICAgXHJcbiAgICAgICAgICAgIGlmKGdhbWVNb2RlbC5Qcml6ZXN0YWNrX2lkW2ldID09IFwiXCIpIHRoaXMuVGhhbmtzSm9pbi5wdXNoKGkpOyAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5Qcml6ZXNfSW5mb3IuY2hpbGRyZW5baV0uZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBnYW1lTW9kZWwuUHJpemVzdGFja19uYW1lW2ldXHJcbiAgICAgICAgICAgIHZhciBQcml6ZV9JbWFnZSA9IHRoaXMuUHJpemVzX0luZm9yLmNoaWxkcmVuW2ldLmdldENoaWxkQnlOYW1lKFwi542O5ZOB54Wn54mH5qGGXCIpLmdldENoaWxkQnlOYW1lKFwi6YGu572pXCIpLmdldENoaWxkQnlOYW1lKFwi542O5ZOB54Wn54mHXCIpLmdldENvbXBvbmVudChXaGVlbF9Qcml6ZV9pbmZvcm1hdGlvbik7XHJcbiAgICAgICAgICAgIFByaXplX0ltYWdlLnNldGluZm9ybWF0aW9uKGkpXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvL+aMieS4i+mWi+Wni+mBiuaIsumNte+8jOmHjee9ruWPg+aVuFxyXG4gICAgU3RhcnRCdG4oKXtcclxuICAgICAgICBpZihnYW1lTW9kZWwuQ2Fubm90Sm9pbkdhbWUgIT0gXCJcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuQWxlcnRUZXh0LnN0cmluZyA9IFwi5rKS5pyJ542O5ZOB5LqG77yM54Sh5rOV5oq9542O77yM6KuL5Li75oyB5Lq65paw5aKe542O5ZOB5b6M6YeN5paw5Yi35paw6aCB6Z2iXCJcclxuICAgICAgICAgICAgdGhpcy5BbHJldE5vZGUuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMud2hlZWxTdGF0ZSAhPT0gMCB8fCAoZ2FtZU1vZGVsLm1vZGUgIT0gXCJvcmRlclwiICYmIGdhbWVNb2RlbC5yb2xlID09IFwiaG9zdFwiKSkgcmV0dXJuO1xyXG4gICAgICAgIGlmKGdhbWVNb2RlbC5yb2xlID09IFwiZ3Vlc3RcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgaWYoZ2FtZU1vZGVsLmNoYW5jZSA9PSAwKSBcclxuICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdGhpcy5BbGVydFRleHQuc3RyaW5nID0gXCLmspLmnInmir3njY7mqZ/mnIPkuobvvIznhKHms5Xmir3njY5cIlxyXG4gICAgICAgICAgICAgIHRoaXMuQWxyZXROb2RlLmFjdGl2ZSA9IHRydWVcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGVsc2UgXHJcbiAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICBpZihnYW1lTW9kZWwuQWxsb3dSZVByaXplID09IFwiY2xvc2VcIiAmJiBnYW1lTW9kZWwuUHJpemVTdGFmZnMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgIHRoaXMuQWxlcnRUZXh0LnN0cmluZyA9IFwi6Yyv6KqkIDroqbLloLTmrKHpgYrmiLLkuI3lhYHoqLHph43opIfkuK3njY7vvIzmgqjlt7LkuK3njY7vvIznhKHms5Xlj4PliqDpgYrmiLLmir3njY5cIlxyXG4gICAgICAgICAgICAgICAgIHRoaXMuQWxyZXROb2RlLmFjdGl2ZSA9IHRydWVcclxuICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgZ2FtZU1vZGVsLmNoYW5jZSAtLVxyXG4gICAgICAgICAgICAgICAgIHRoaXMuQ2hhbmNlVGV4dC5zdHJpbmcgPSBnYW1lTW9kZWwuY2hhbmNlXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGdhbWVNb2RlbC5yb2xlID09IFwiaG9zdFwiKSB0aGlzLmN1cnJlbnRzb3VuZCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkodGhpcy53aGVlbF9zb3VuZFswXSwgZmFsc2UsIDEpO1xyXG4gICAgICAgIHRoaXMuY2Fubm5vdHRvdWNoLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy53aGVlbFN0YXRlID0gMTsgXHJcbiAgICAgICAgdGhpcy5hbmlTbG93X0luKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6Lyq55uk5Yqg6YCf77yM57ep5YWl5YuV5L2cXHJcbiAgICBhbmlTbG93X0luKCl7XHJcbiAgICAgICAgdGhpcy53aGVlbF9vdXRfTGlnaHQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcIlJvdGF0ZVwiLHRydWUpO1xyXG4gICAgICAgIHRoaXMud2hlZWxfb3V0X0xpZ2h0LmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikudGltZVNjYWxlID0gNSA7XHJcbiAgICAgICAgLy/nt6nlhaXli5XnlatcclxuICAgICAgICB2YXIgYW5pX1Nsb3dJbiA9ICBjYy50d2Vlbih0aGlzLndoZWVsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5ieSgyLCB7IGFuZ2xlOiAzNjB9LCB7ZWFzaW5nOiAnY2lyY0luJ30pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhbGwoKCkgPT4geyB0aGlzLndoZWVsX291dF9MaWdodC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnRpbWVTY2FsZSA9IDEwIH0pXHJcbiAgICAgICAgLy/mjIHnuozml4vovYnli5XnlatcclxuICAgICAgICB2YXIgS2VlcFR1cm4gPSBjYy50d2Vlbih0aGlzLndoZWVsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIC5ieSgwLjM1LCB7IGFuZ2xlOiAzNjB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgIC5yZXBlYXRGb3JldmVyKClcclxuXHJcblxyXG4gICAgICAgIHRoaXMuYW5pX3doZWVsU3RhdGUxID0gY2MudHdlZW4odGhpcy53aGVlbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGFuaV9TbG93SW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihLZWVwVHVybilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdGFydCgpXHJcbiAgICBcclxuICAgICAgICBpZihnYW1lTW9kZWwucm9sZSA9PSBcImhvc3RcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKGZ1bmN0aW9uKCkgeyBcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudHNvdW5kID0gY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLndoZWVsX3NvdW5kWzFdLCB0cnVlLCAxKTtcclxuICAgICAgICAgICAgIH0sIDIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoZnVuY3Rpb24oKSB7IFxyXG4gICAgICAgICAgIGdhbWVNb2RlbC5Mb3R0ZXJ5X0d1ZXN0KCk7XHJcbiAgICAgICAgfSwgNSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v542O5ZOB6LOH6KiK6YCB6YGUXHJcbiAgICBsZXR0b3JleSgpe1xyXG4gICAgICAgIGlmKGdhbWVNb2RlbC5yb2xlID09IFwiaG9zdFwiKSBjYy5hdWRpb0VuZ2luZS5wYXVzZUFsbEVmZmVjdHMoKTtcclxuICAgICAgICBpZihnYW1lTW9kZWwuQ2Fubm90Sm9pbkdhbWUgIT0gXCJcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMud2hlZWxfb3V0X0xpZ2h0LmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikudGltZVNjYWxlID0gMSA7XHJcbiAgICAgICAgICAgIHRoaXMud2hlZWxfb3V0X0xpZ2h0LmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikuc2V0QW5pbWF0aW9uKDAsXCI1XCIsZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLndoZWVsX291dC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNldEFuaW1hdGlvbigwLFwiQnJva2VuXCIsdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuVGl0bGUuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcIkJyb2tlblwiLGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5OYWlsLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikuc2V0QW5pbWF0aW9uKDAsXCJCcm9rZW5cIixmYWxzZSk7IFxyXG4gICAgICAgICAgICBpZihjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLl9uYW1lLmluY2x1ZGVzKFwiSG9zdFwiKSkgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuU3RlYW0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcIkJyb2tlbl9QQ1wiLHRydWUpOyBcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudHNvdW5kID0gY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLndoZWVsX3NvdW5kWzldLCBmYWxzZSwgMC43KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHRoaXMuU3RlYW0uZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcIkJyb2tlbl9NXCIsZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UoZnVuY3Rpb24oKSB7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5BbGVydFRleHQuc3RyaW5nID0gXCLmspLmnInnjY7lk4HkuobvvIznhKHms5Xmir3njY7vvIzoq4vkuLvmjIHkurrmlrDlop7njY7lk4Hlvozph43mlrDliLfmlrDpoIHpnaJcIlxyXG4gICAgICAgICAgICAgICAgdGhpcy5BbHJldE5vZGUuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmlfd2hlZWxTdGF0ZTEuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53aGVlbC5yb3RhdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIH0sIDEuMik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGdhbWVNb2RlbC5Qcml6ZXN0YWNrX2lkLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYoZ2FtZU1vZGVsLnByaXplX0lEICE9IFwiXCIgJiYgZ2FtZU1vZGVsLlByaXplc3RhY2tfaWRbaV0gPT0gZ2FtZU1vZGVsLnByaXplX0lEKSB0aGlzLlByaXplX0lEID0gaTtcclxuICAgICAgICAgICAgZWxzZSBpZihnYW1lTW9kZWwucHJpemVfSUQgPT0gXCJcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMuVGhhbmtzSm9pbi5sZW5ndGgpKTsgIC8v6Zqo5qmf542O5ZOBXHJcbiAgICAgICAgICAgICAgICB0aGlzLlByaXplX0lEID0gdGhpcy5UaGFua3NKb2luW3JhbmRvbUluZGV4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihnYW1lTW9kZWwucm9sZSA9PSBcImhvc3RcIikgdGhpcy5jdXJyZW50c291bmQgPSBjYy5hdWRpb0VuZ2luZS5wbGF5KHRoaXMud2hlZWxfc291bmRbMl0sIGZhbHNlLCAxKTtcclxuICAgICAgICB0aGlzLlByaXplX0FuZ2xlID0gdGhpcy5Qcml6ZV9JRCAqIHRoaXMuSURBbmdsZTsgLy/mnIDntYLop5LluqYgPSAzNjAgLSDnm67mqJnnt6jomZ8gKiDmr4/lgIvnt6jomZ/nmoTop5LluqZcclxuICAgICAgICB0aGlzLkZpbmFsQW5nbGUgPSB0aGlzLlByaXplX0FuZ2xlICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMuSURBbmdsZSAtICgzICsgMSkpICsgMyk7ICAvL+S9v+aMh+mHneS4jeacg+avj+asoemDveWcqOagvOWtkOS4remWk1xyXG4gICAgICAgIHRoaXMud2hlZWxTdGF0ZSA9IDJcclxuICAgICAgICB0aGlzLmFuaVNsb3dfT3V0KClcclxuICAgIH0sXHJcblxyXG4gICAgXHJcblxyXG4gICAgLy/ovKrnm6TmuJvpgJ/vvIznt6nlh7rli5XkvZxcclxuICAgIGFuaVNsb3dfT3V0KCl7XHJcbiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgdGhpcy5hbmlfd2hlZWxTdGF0ZTEuc3RvcCgpO1xyXG4gICAgICAgICB2YXIgUmFuZG9tRWZmZWN0ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSAvL+maqOapn+mBuOaTh+e3qeWHuuaViOaenFxyXG4gICAgICAgICB2YXIgU3RvcEVmZmVjdCA9IFJhbmRvbUVmZmVjdCA9PSAxID8gXCJjaXJjT3V0XCIgOiBcImJhY2tPdXRcIiAvL+e3qeWHuuaViOaenFxyXG4gICAgICAgICB2YXIgTmV3Q2lyY2xlID0gTWF0aC5jZWlsKHRoaXMud2hlZWwuYW5nbGUgLyAzNjApIC8v5Zub5o2o5LqU5YWl55qE5ZyI5pW4XHJcbiAgICAgICAgIHZhciBsZXJwID0gTmV3Q2lyY2xlICogMzYwIC0gdGhpcy53aGVlbC5hbmdsZSAvL+W3ruWAvCA9IOWbm+aNqOS6lOWFpeeahOWciOaVuCAqIDM2MCAtIOebruWJjeinkuW6plxyXG4gICAgICAgICB0aGlzLndoZWVsX291dF9MaWdodC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnRpbWVTY2FsZSA9IDUgO1xyXG4gICAgICAgICAvL+e3qeWHuuWLleeVq1xyXG4gICAgICAgICBjYy50d2Vlbih0aGlzLndoZWVsKVxyXG4gICAgICAgIC5ieSg1LCB7IGFuZ2xlOiAzNjAgKyBsZXJwICsgc2VsZi5GaW5hbEFuZ2xlfSwge2Vhc2luZzogU3RvcEVmZmVjdH0pXHJcbiAgICAgICAgLmNhbGwoKCkgPT4ge3NlbGYuU3RvcFdlZWwoKTt9KVxyXG4gICAgICAgIC5zdGFydCgpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+i8quebpOWBnOS4i++8jOmhr+ekuueNjuWTgVxyXG4gICAgU3RvcFdlZWwoKXtcclxuICAgICAgICB0aGlzLndoZWVsX291dF9MaWdodC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnRpbWVTY2FsZSA9IDEgO1xyXG4gICAgICAgIGlmKGdhbWVNb2RlbC5wcml6ZV90eXBlID09IFwiZmlyc3RcIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMud2hlZWxfb3V0X0xpZ2h0LmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikuc2V0QW5pbWF0aW9uKDAsXCIxXCIsZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLndoZWVsX291dC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNldEFuaW1hdGlvbigwLFwiUm9sbFwiLGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5UaXRsZS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNldEFuaW1hdGlvbigwLFwiUm9sbFwiLGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5OYWlsLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikuc2V0QW5pbWF0aW9uKDAsXCJSb2xsXCIsZmFsc2UpO1xyXG4gICAgICAgICAgICBpZihjYy5kaXJlY3Rvci5nZXRTY2VuZSgpLl9uYW1lLmluY2x1ZGVzKFwiSG9zdFwiKSkgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuVG9wTGlnaHQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcIlJvbGxfUENcIixmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRzb3VuZCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkodGhpcy53aGVlbF9zb3VuZFszXSwgZmFsc2UsIDAuNSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB0aGlzLlRvcExpZ2h0LmdldENvbXBvbmVudChzcC5Ta2VsZXRvbikuc2V0QW5pbWF0aW9uKDAsXCJSb2xsX01cIixmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGdhbWVNb2RlbC5wcml6ZV90eXBlID09IFwic2Vjb25kXCIpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLndoZWVsX291dF9MaWdodC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNldEFuaW1hdGlvbigwLFwiMlwiLGZhbHNlKTtcclxuICAgICAgICAgICAgaWYoZ2FtZU1vZGVsLnJvbGUgPT0gXCJob3N0XCIpIHRoaXMuY3VycmVudHNvdW5kID0gY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLndoZWVsX3NvdW5kWzRdLCBmYWxzZSwgMSk7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBlbHNlIGlmIChnYW1lTW9kZWwucHJpemVfdHlwZSA9PSBcInRoaXJkXCIpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy53aGVlbF9vdXRfTGlnaHQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcIjNcIixmYWxzZSk7XHJcbiAgICAgICAgICAgIGlmKGdhbWVNb2RlbC5yb2xlID09IFwiaG9zdFwiKSB0aGlzLmN1cnJlbnRzb3VuZCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkodGhpcy53aGVlbF9zb3VuZFs1XSwgZmFsc2UsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChnYW1lTW9kZWwucHJpemVfdHlwZSA9PSBcInNwZWNpYWxcIikgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLndoZWVsX291dF9MaWdodC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNldEFuaW1hdGlvbigwLFwiNFwiLGZhbHNlKTtcclxuICAgICAgICAgICAgaWYoZ2FtZU1vZGVsLnJvbGUgPT0gXCJob3N0XCIpIHRoaXMuY3VycmVudHNvdW5kID0gY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLndoZWVsX3NvdW5kWzZdLCBmYWxzZSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGdhbWVNb2RlbC5wcml6ZV90eXBlID09IFwidGhhbmtzXCIpIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy53aGVlbF9vdXRfTGlnaHQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcIjVcIixmYWxzZSk7XHJcbiAgICAgICAgICAgIGlmKGdhbWVNb2RlbC5yb2xlID09IFwiaG9zdFwiKSB0aGlzLmN1cnJlbnRzb3VuZCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkodGhpcy53aGVlbF9zb3VuZFs3XSwgZmFsc2UsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2MudHdlZW4odGhpcy5XaGVlbF9Qcml6ZS5jaGlsZHJlblt0aGlzLlByaXplX0lEXS5nZXRDaGlsZEJ5TmFtZShcIuaJh+W9olwiKSlcclxuICAgICAgICAudG8oMC4zLCB7IG9wYWNpdHk6IDI1NSB9KVxyXG4gICAgICAgIC5zdGFydCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKGdhbWVNb2RlbC5yb2xlID09IFwiZ3Vlc3RcIiAmJiBnYW1lTW9kZWwucHJpemVfdHlwZSAhPSBcInRoYW5rc1wiKSB0aGlzLkdhbWVQcml6ZUluZm9yLlNwYXduUHJpemUoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKGZ1bmN0aW9uKCkgeyBcclxuICAgICAgICAgIHRoaXMuY2Fubm5vdHRvdWNoLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhpcy5TaG93UHJpemUoKVxyXG4gICAgICAgICB9LCAyLjMpO1xyXG4gICAgfSxcclxuXHJcbiAgICBDbGVhcldoZWVsRWZmZWN0KCl7XHJcbiAgICAgICAgdGhpcy53aGVlbF9vdXRfTGlnaHQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcInVzdWFsXCIsdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy53aGVlbF9vdXQuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5jbGVhclRyYWNrcygpO1xyXG4gICAgICAgIHRoaXMuVGl0bGUuZ2V0Q29tcG9uZW50KHNwLlNrZWxldG9uKS5zZXRBbmltYXRpb24oMCxcIlVzdWFsbFwiLHRydWUpO1xyXG4gICAgICAgIHRoaXMuTmFpbC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLmNsZWFyVHJhY2tzKCk7XHJcbiAgICAgICAgdGhpcy5Ub3BMaWdodC5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNldEFuaW1hdGlvbigwLFwidXN1YWxcIixmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5TdGVhbS5nZXRDb21wb25lbnQoc3AuU2tlbGV0b24pLnNldEFuaW1hdGlvbigwLFwiVXN1YWxsXCIsZmFsc2UpO1xyXG4gICAgfSxcclxuXHJcbiAgICBTaG93UHJpemUoKXtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmxvYWRSZW1vdGUoZ2FtZU1vZGVsLnByaXplX3BpY3R1cmUse2V4dCA6Jy5qcGcnfHwnLnBuZyd9LGZ1bmN0aW9uKGVycix0ZXh0dXJlKVxyXG4gICAgICAgIHsgIFxyXG4gICAgICAgICAgICBpZihlcnIpIGNvbnNvbGUubG9nKFwi6Yyv6KqkXCIpXHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBpY3R1cmUgPSBuZXcgY2MuU3ByaXRlRnJhbWUodGV4dHVyZSk7IC8vdGV4dHVyZSDovYkgU3ByaXRlRnJhbWVcclxuICAgICAgICAgICAgICAgIHNlbGYucHJpemVfcGljdHVyZS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHBpY3R1cmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLlByaXplLmdldENoaWxkQnlOYW1lKFwi5b6X542O5oe45rWu56qXXCIpLmdldENoaWxkQnlOYW1lKFwi542O6aCFXCIpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gZ2FtZU1vZGVsLnByaXplX25hbWVfZ3Vlc3RcclxuICAgICAgICB0aGlzLlByaXplLmdldENoaWxkQnlOYW1lKFwi5b6X542O5oe45rWu56qXXCIpLmdldENoaWxkQnlOYW1lKFwi5ZOt6IeJXCIpLmFjdGl2ZSA9ICBnYW1lTW9kZWwucHJpemVfdHlwZSA9PSBcInRoYW5rc1wiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuUHJpemUuZ2V0Q2hpbGRCeU5hbWUoXCLlvpfnjY7mh7jmta7nqpdcIikuZ2V0Q2hpbGRCeU5hbWUoXCLlvpfnjY5f5Lit5aSu5ZyW5qiZXCIpLmFjdGl2ZSA9IGdhbWVNb2RlbC5wcml6ZV90eXBlID09IFwidGhhbmtzXCIgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgICAgdGhpcy5Qcml6ZS5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5Qcml6ZUFuaSgpO1xyXG4gICAgICAgIGlmKGdhbWVNb2RlbC5yb2xlID09IFwiaG9zdFwiICYmIGdhbWVNb2RlbC5wcml6ZV90eXBlICE9IFwidGhhbmtzXCIpIHRoaXMuY3VycmVudHNvdW5kID0gY2MuYXVkaW9FbmdpbmUucGxheSh0aGlzLndoZWVsX3NvdW5kWzhdLCBmYWxzZSwgMSk7XHJcbiAgICAgICAgaWYoZ2FtZU1vZGVsLm1vZGUgIT0gXCJvcmRlclwiIHx8IGdhbWVNb2RlbC5yb2xlID09IFwiZ3Vlc3RcIiB8fCAgZ2FtZU1vZGVsLnByaXplX3R5cGUgPT0gXCJ0aGFua3NcIikgcmV0dXJuXHJcbiAgICAgICAgdGhpcy5Db25ncmF0dWxhdGlvbnMoKTtcclxuICAgIH0sXHJcblxyXG4gICAgUHJpemVBbmkoKXtcclxuICAgICAgICB0aGlzLndoZWVsU3RhdGUgPSAwO1xyXG4gICAgICAgIGNjLnR3ZWVuKHRoaXMucHJpemVub2RlKVxyXG4gICAgICAgIC50bygxLCB7IHNjYWxlOiAxIH0sIHtlYXNpbmc6IFwiZWxhc3RpY091dFwifSlcclxuICAgICAgICAuc3RhcnQoKTtcclxuICAgIH0sXHJcblxyXG4gICAgQ29uZ3JhdHVsYXRpb25zKCl7XHJcbiAgICAgICAgdGhpcy5pbmRleGNvdW50Kys7XHJcbiAgICAgICAgdGhpcy5pbmRleC5wdXNoKHRoaXMuaW5kZXhjb3VudCk7XHJcbiAgICAgICAgdmFyIG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLml0ZW1zKTtcclxuICAgICAgICBub2RlLnBhcmVudCA9IHRoaXMuaXRlbXNfcGFyZW50O1xyXG4gICAgICAgIG5vZGUuc2V0U2libGluZ0luZGV4KDApOyAvL+iuk+WtkOeJqeS7tumhr+ekuuWcqOacgOS4iuWxpFxyXG4gICAgICAgIHZhciBvYmogPSBub2RlLmdldENvbXBvbmVudChXaW5uZXJJdGVtKTsvL+aKk+WPlldpbm5lckl0ZW1cclxuICAgICAgICB0aGlzLml0ZW1saXN0LnB1c2gob2JqKTtcclxuICAgICAgICB0aGlzLml0ZW1saXN0W3RoaXMuaW5kZXhjb3VudCAtIDFdLnVwZGF0ZUluZm8odGhpcy5pbmRleGNvdW50IC0gMSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6Zec6ZaJ54m55a6a6KaW56qXXHJcbiAgICBjbG9zZUZ1YyhldmVudCwgY3VzdG9tRXZlbnREYXRhKXtcclxuICAgICAgIGlmKGN1c3RvbUV2ZW50RGF0YSA9PSBcInByaXplXCIpIFxyXG4gICAgICAge1xyXG4gICAgICAgIHRoaXMuUHJpemUuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICB0aGlzLkNsZWFyV2hlZWxFZmZlY3QoKTtcclxuICAgICAgICB0aGlzLldoZWVsX1ByaXplLmNoaWxkcmVuW3RoaXMuUHJpemVfSURdLmdldENoaWxkQnlOYW1lKFwi5omH5b2iXCIpLm9wYWNpdHkgPSAwXHJcbiAgICAgICB9XHJcbiAgICAgICBlbHNlIGlmKGN1c3RvbUV2ZW50RGF0YSA9PSBcImFscmV0XCIgJiYgZ2FtZU1vZGVsLkNhbm5vdEpvaW5HYW1lID09IFwiXCIpIHRoaXMuQWxyZXROb2RlLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICB0aGlzLnByaXplbm9kZS5zY2FsZSA9ICgwLDApXHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZShkdCl7XHJcbiAgICAgICAgaWYgKGdhbWVNb2RlbC5HYW1lU3RhdHVzTWVzc2FnZSA9PSBcImNsb3NlXCIgJiYgZ2FtZU1vZGVsLnJvbGUgPT0gXCJndWVzdFwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRoaXMuQWxlcnRUZXh0LnN0cmluZyA9IFwi6KuL562J5b6F5Li76L6m5pa56ZaL5ZWf5ZCM5pmC5Y+D6IiH5qih5byP5omN6IO96YCy6KGM6YGK5oiyXCI7XHJcbiAgICAgICAgICB0aGlzLkFscmV0Tm9kZS5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSk7Il19