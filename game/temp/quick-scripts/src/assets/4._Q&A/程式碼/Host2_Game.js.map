{"version":3,"sources":["assets\\4._Q&A\\程式碼\\Host2_Game.js"],"names":["gameModel","require","TimeCount_js","cc","Class","Component","properties","Result","type","Sprite","ResultAnswered","Node","PeopleAnswered","Label","NowQuestionCount","Options","Question","Rank","ShowAnswerString","TimeBar","Timelight","RedTimeBar","SpriteFrame","RedTimelight","onLoad","timenode","find","tensecsound","getComponent","XMLTimeLimit","gametimelimit","gametimeCountDown","lerp","count","c","Answer","alreadyred","schedule","TimeBarProgress","start","GameStatusMessage","ColorString","node","SeeResult","string","AnswerResult","people","QuestionCount","length","i","OpacityAni_Start","getChildByName","SpawnNewWinner","console","log","self","OpacityAni","PlayDarkAni","unschedule","AnswerButton","director","loadScene","PrintResult","active","fillRange","ProgressBar","color","colorOfString","PlayBrightAni","tween","to","opacity","OpacityAni_Time","repeatForever","spriteFrame","update","dt","audioEngine","stop","currentsound"],"mappings":";;;;;;AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,OAAD,CAAvB;;AACA,IAAIC,YAAY,GAAGD,OAAO,CAAC,yBAAD,CAA1B;;AAEAE,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACTC,IAAAA,MAAM,EAAE;AACP,iBAAS,EADF;AAEPC,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFF,KADC;AAMVC,IAAAA,cAAc,EAAE;AACd,iBAAS,EADK;AAEdF,MAAAA,IAAI,EAAEL,EAAE,CAACQ;AAFK,KANN;AAWVC,IAAAA,cAAc,EAAC;AACb,iBAAS,IADI;AAEbJ,MAAAA,IAAI,EAAEL,EAAE,CAACU;AAFI,KAXL;AAgBVC,IAAAA,gBAAgB,EAAC;AACf,iBAAS,IADM;AAEfN,MAAAA,IAAI,EAAEL,EAAE,CAACU;AAFM,KAhBP;AAqBVE,IAAAA,OAAO,EAAC;AACN,iBAAS,EADH;AAENP,MAAAA,IAAI,EAAEL,EAAE,CAACQ;AAFH,KArBE;AA0BVK,IAAAA,QAAQ,EAAC;AACP,iBAAS,IADF;AAEPR,MAAAA,IAAI,EAAEL,EAAE,CAACU;AAFF,KA1BC;AA+BVI,IAAAA,IAAI,EAAC;AACH,iBAAS,EADN;AAEHT,MAAAA,IAAI,EAAEL,EAAE,CAACQ;AAFN,KA/BK;AAoCVO,IAAAA,gBAAgB,EAAC;AACf,iBAAS,IADM;AAEfV,MAAAA,IAAI,EAAEL,EAAE,CAACU;AAFM,KApCP;AAyCVM,IAAAA,OAAO,EAAC;AACN,iBAAS,IADH;AAENX,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFH,KAzCE;AA8CVW,IAAAA,SAAS,EAAC;AACR,iBAAS,IADD;AAERZ,MAAAA,IAAI,EAAEL,EAAE,CAACM;AAFD,KA9CA;AAmDVY,IAAAA,UAAU,EAAC;AACT,iBAAS,IADA;AAETb,MAAAA,IAAI,EAAEL,EAAE,CAACmB;AAFA,KAnDD;AAwDVC,IAAAA,YAAY,EAAC;AACX,iBAAS,IADE;AAEXf,MAAAA,IAAI,EAAEL,EAAE,CAACmB;AAFE;AAxDH,GAHP;AAmELE,EAAAA,MAnEK,oBAoEL;AACE,SAAKC,QAAL,GAAgBtB,EAAE,CAACuB,IAAH,CAAQ,YAAR,CAAhB;AACA,SAAKC,WAAL,GAAmBxB,EAAE,CAACuB,IAAH,CAAQ,IAAR,EAAcE,YAAd,CAA2B1B,YAA3B,CAAnB;AACAF,IAAAA,SAAS,CAAC6B,YAAV,GAAyB,IAAzB;AACA7B,IAAAA,SAAS,CAAC8B,aAAV,GAA0B,EAA1B;AACA9B,IAAAA,SAAS,CAAC+B,iBAAV,GAA8B,EAA9B;AACA,SAAKC,IAAL,GAAY,MAAMhC,SAAS,CAAC8B,aAAhB,GAAgC,IAA5C;AACA,SAAKG,KAAL,GAAa,CAAb;AACA,SAAKC,CAAL,GAAS,CAAT;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,QAAL,CAAc,KAAKC,eAAnB,EAAoC,IAApC;AACD,GAhFI;AAiFLC,EAAAA,KAjFK,mBAiFI;AACLvC,IAAAA,SAAS,CAACwC,iBAAV,GAA8B,MAA9B;AAEA,SAAKC,WAAL,GAAmB,KAAKC,IAAL,CAAUd,YAAV,CAAuB,aAAvB,CAAnB,CAHK,CAIL;AACA;;AACA,SAAKe,SAAL,GAAiB,KAAjB;AACA,SAAK/B,cAAL,CAAoBgC,MAApB,GAA6B,EAA7B;AACA5C,IAAAA,SAAS,CAAC6C,YAAV,GAAyB,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,CAAzB;AACA7C,IAAAA,SAAS,CAAC8C,MAAV,GAAmB,EAAnB;AACA,SAAKhC,gBAAL,CAAsB8B,MAAtB,GAA+B5C,SAAS,CAAC+C,aAAV,GAA0B,GAA1B,GAAgC/C,SAAS,CAACgB,QAAV,CAAmBgC,MAAlF;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EACA;AACI;AACA,WAAKC,gBAAL,CAAsB,KAAKnC,OAAL,CAAakC,CAAb,EAAgBE,cAAhB,CAA+B,MAA/B,CAAtB;AACA,WAAKD,gBAAL,CAAsB,KAAKnC,OAAL,CAAakC,CAAb,EAAgBE,cAAhB,CAA+B,MAA/B,CAAtB;AACH;;AACD,SAAMC,cAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,WAAjB;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAYtD,SAAZ;AACH,GArGI;AAuGJ;AACAoD,EAAAA,cAxGI,4BAwGY;AACf,SAAI,IAAIH,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EACA;AACE,UAAIM,IAAI,GAAG,IAAX;AACA,WAAKtC,IAAL,CAAUgC,CAAV,EAAaE,cAAb,CAA4B,MAA5B,EAAoCvB,YAApC,CAAiDzB,EAAE,CAACU,KAApD,EAA2D+B,MAA3D,GAAoE,IAApE,CAFF,CAE0E;;AACxE,WAAK3B,IAAL,CAAUgC,CAAV,EAAaE,cAAb,CAA4B,MAA5B,EAAoCA,cAApC,CAAmD,IAAnD,EAAyDvB,YAAzD,CAAsEzB,EAAE,CAACU,KAAzE,EAAgF+B,MAAhF,GAAyF,KAAzF,CAHF,CAGgG;;AAC9F,WAAK3B,IAAL,CAAUgC,CAAV,EAAaE,cAAb,CAA4B,MAA5B,EAAoCA,cAApC,CAAmD,IAAnD,EAAyDvB,YAAzD,CAAsEzB,EAAE,CAACU,KAAzE,EAAgF+B,MAAhF,GAAyF,KAAzF,CAJF,CAIgG;AAC9F;;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;;AACD,SAAKP,QAAL,CAAc,KAAKmB,UAAnB,EAA+B,GAA/B;AACD,GA3HI;AA6HLA,EAAAA,UA7HK,wBA6HO;AACV,SAAKC,WAAL,CAAiB,KAAKxC,IAAL,CAAU,KAAKiB,CAAf,EAAkBiB,cAAlB,CAAiC,IAAjC,CAAjB;AACA,SAAKjB,CAAL;AACAmB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,CAAjB;AACA,QAAI,KAAKA,CAAL,IAAU,CAAd,EAAkB,KAAKwB,UAAL,CAAgB,KAAKF,UAArB;AACnB,GAlII;AAoILG,EAAAA,YApIK,0BAoIS;AACV,QAAI,KAAKhB,SAAL,IAAkB,KAAtB,EACA;AACC;AACA3C,MAAAA,SAAS,CAACwC,iBAAV,GAA8B,KAA9B;AACA,KAJD,MAMA;AACI;AACA,UAAGxC,SAAS,CAAC+C,aAAV,IAA2B/C,SAAS,CAACgB,QAAV,CAAmBgC,MAAjD,EAAyD7C,EAAE,CAACyD,QAAH,CAAYC,SAAZ,CAAsB,YAAtB,EAAzD,KAEA;AACC;AACG7D,QAAAA,SAAS,CAAC+C,aAAV;AACA5C,QAAAA,EAAE,CAACyD,QAAH,CAAYC,SAAZ,CAAsB,gBAAtB;AACH;AACJ;AACJ,GArJI;AAuJLC,EAAAA,WAvJK,yBAuJQ;AACV,SAAKnB,SAAL,GAAiB,IAAjB;AACA,SAAKlB,QAAL,CAAcsC,MAAd,GAAuB,KAAvB;AACA,SAAK7C,gBAAL,CAAsB0B,MAAtB,GAA+B5C,SAAS,CAAC+C,aAAV,IAA2B/C,SAAS,CAACgB,QAAV,CAAmBgC,MAA9C,GAAsD,IAAtD,GAA6D,KAA5F;AACA,SAAK7B,OAAL,CAAa6C,SAAb,GAAyB,CAAzB;AACA,SAAK3B,QAAL,CAAc,KAAK4B,WAAnB,EAAgC,IAAhC;;AACA,SAAI,IAAIhB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EACC;AACI,WAAKvC,cAAL,CAAoBuC,CAApB,EAAuBc,MAAvB,GAAgC,IAAhC;AACA,WAAKrD,cAAL,CAAoBuC,CAApB,EAAuBrB,YAAvB,CAAoCzB,EAAE,CAACU,KAAvC,EAA8C+B,MAA9C,GAAuD5C,SAAS,CAAC6C,YAAV,CAAuBI,CAAvB,IAA4B,GAAnF,CAFJ,CAGI;;AACA,WAAKA,CAAL,GAAS,CAAT;AACA,UAAGA,CAAC,IAAI,KAAKd,MAAb,EAAqB;AACrB,WAAKpB,OAAL,CAAakC,CAAb,EAAgBiB,KAAhB,GAAwB,KAAKnD,OAAL,CAAakC,CAAb,EAAgBE,cAAhB,CAA+B,MAA/B,EAAuCe,KAAvC,GAA+C,KAAKnD,OAAL,CAAakC,CAAb,EAAgBE,cAAhB,CAA+B,MAA/B,EAAuCe,KAAvC,GAA+C,KAAKzB,WAAL,CAAiB0B,aAAjB,CAA+B,SAA/B,CAAtH;AACH;;AACD,SAAI,IAAIlB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EACA;AACI,WAAKmB,aAAL,CAAmB,KAAKnD,IAAL,CAAUgC,CAAV,EAAaE,cAAb,CAA4B,IAA5B,CAAnB;AACH;AACJ,GA1KI;AA4KLiB,EAAAA,aA5KK,yBA4KS1B,IA5KT,EA4Kc;AAChBvC,IAAAA,EAAE,CAACkE,KAAH,CAAS3B,IAAT,EACA4B,EADA,CACG,CADH,EACM;AAACC,MAAAA,OAAO,EAAE;AAAV,KADN,EAEAhC,KAFA;AAGF,GAhLI;AAkLLkB,EAAAA,WAlLK,uBAkLOf,IAlLP,EAkLY;AACfvC,IAAAA,EAAE,CAACkE,KAAH,CAAS3B,IAAT,EACC4B,EADD,CACI,CADJ,EACO;AAACC,MAAAA,OAAO,EAAE;AAAV,KADP,EAEChC,KAFD;AAGD,GAtLI;AAwLLW,EAAAA,gBAxLK,4BAwLYR,IAxLZ,EAwLiB;AACpBA,IAAAA,IAAI,CAAC6B,OAAL,GAAe,CAAf;AACApE,IAAAA,EAAE,CAACkE,KAAH,CAAS3B,IAAT,EACC4B,EADD,CACI,GADJ,EACS;AAACC,MAAAA,OAAO,EAAE;AAAV,KADT,EAEChC,KAFD;AAGD,GA7LI;AA+LLiC,EAAAA,eA/LK,6BA+LY;AACfrE,IAAAA,EAAE,CAACkE,KAAH,CAAS,KAAKjD,SAAL,CAAesB,IAAxB,EACC+B,aADD,CACetE,EAAE,CAACkE,KAAH,GACdC,EADc,CACX,GADW,EACN;AAAEC,MAAAA,OAAO,EAAE;AAAX,KADM,EAEdD,EAFc,CAEX,GAFW,EAEN;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAFM,CADf,EAKChC,KALD;AAMD,GAtMI;AAwML0B,EAAAA,WAxMK,yBAwMQ;AACX,SAAK1D,MAAL,CAAY,KAAK0C,CAAjB,EAAoBe,SAApB,IAAiC,IAAjC;;AACA,QAAI,KAAKzD,MAAL,CAAY,KAAK0C,CAAjB,EAAoBe,SAApB,IAAiC,CAAChE,SAAS,CAAC6C,YAAV,CAAuB,KAAKI,CAA5B,CAAD,GAAkCjD,SAAS,CAAC8C,MAAjF,EACA;AACI,WAAKY,UAAL,CAAgB,KAAKO,WAArB;AACA,WAAKhB,CAAL;AACA,UAAG,KAAKA,CAAL,GAAS,CAAZ,EAAe;AACf,WAAKZ,QAAL,CAAc,KAAK4B,WAAnB,EAAgC,IAAhC;AACH;AACF,GAjNI;AAmNL3B,EAAAA,eAnNK,6BAmNY;AACf,SAAKnB,OAAL,CAAa6C,SAAb,IAA0B,KAAKhC,IAA/B;AACA,SAAKC,KAAL;;AACA,QAAGjC,SAAS,CAAC+B,iBAAV,IAA+B,EAA/B,IAAqC,KAAKK,UAAL,IAAmB,KAA3D,EACA;AACE,WAAKA,UAAL,GAAkB,IAAlB;AACA,WAAKjB,OAAL,CAAauD,WAAb,GAA2B,KAAKrD,UAAhC;AACA,WAAKD,SAAL,CAAesD,WAAf,GAA6B,KAAKnD,YAAlC;AACA,WAAKiD,eAAL;AACD;;AAED,QAAI,KAAKrD,OAAL,CAAa6C,SAAb,GAAyB,CAA7B,EACA;AACE,WAAK5C,SAAL,CAAesB,IAAf,CAAoBqB,MAApB,GAA6B,KAA7B;AACA,WAAKL,UAAL,CAAgB,KAAKpB,eAArB;AACD;AACF,GAnOI;AAqOLqC,EAAAA,MArOK,kBAqOGC,EArOH,EAqOO;AACR,QAAG5E,SAAS,CAACwC,iBAAV,IAA+B,KAA/B,IAAwC,KAAKG,SAAL,IAAkB,KAA7D,EACA;AACExC,MAAAA,EAAE,CAAC0E,WAAH,CAAeC,IAAf,CAAoB,KAAKnD,WAAL,CAAiBoD,YAArC;AACA,WAAKjB,WAAL;AACD;AACJ;AA3OI,CAAT","sourceRoot":"/","sourcesContent":["var gameModel = require(\"Model\");\r\nvar TimeCount_js = require(\"Host3_GameTimeCountDown\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       Result :{\r\n        default: [],\r\n        type: cc.Sprite\r\n      },\r\n\r\n      ResultAnswered :{\r\n        default: [],\r\n        type: cc.Node\r\n      },\r\n\r\n      PeopleAnswered:{\r\n        default: null,\r\n        type: cc.Label\r\n      },\r\n\r\n      NowQuestionCount:{\r\n        default: null,\r\n        type: cc.Label\r\n      },\r\n      \r\n      Options:{\r\n        default: [],\r\n        type: cc.Node\r\n      },\r\n\r\n      Question:{\r\n        default: null,\r\n        type: cc.Label\r\n      },\r\n\r\n      Rank:{\r\n        default: [],\r\n        type: cc.Node\r\n      },\r\n\r\n      ShowAnswerString:{\r\n        default: null,\r\n        type: cc.Label\r\n      },\r\n       \r\n      TimeBar:{\r\n        default: null,\r\n        type: cc.Sprite\r\n      },\r\n\r\n      Timelight:{\r\n        default: null,\r\n        type: cc.Sprite\r\n      },\r\n\r\n      RedTimeBar:{\r\n        default: null,\r\n        type: cc.SpriteFrame\r\n      },\r\n\r\n      RedTimelight:{\r\n        default: null,\r\n        type: cc.SpriteFrame\r\n      },\r\n \r\n    },\r\n\r\n    \r\n    onLoad()\r\n    {\r\n      this.timenode = cc.find(\"畫布/秒數處理/秒數\");\r\n      this.tensecsound = cc.find(\"畫布\").getComponent(TimeCount_js)\r\n      gameModel.XMLTimeLimit = true\r\n      gameModel.gametimelimit = 12\r\n      gameModel.gametimeCountDown = 12\r\n      this.lerp = 1.1 / gameModel.gametimelimit * 0.03;\r\n      this.count = 0\r\n      this.c = 0\r\n      this.Answer = 2\r\n      this.alreadyred = false\r\n      this.schedule(this.TimeBarProgress, 0.03);\r\n    },\r\n    start () {\r\n        gameModel.GameStatusMessage = \"open\"\r\n\r\n        this.ColorString = this.node.getComponent('ColorString')\r\n        //this.Question.string = gameModel.Question[gameModel.QuestionCount]\r\n        //this.WebSocket_NumberOfLottery_Host();\r\n        this.SeeResult = false\r\n        this.PeopleAnswered.string = 10\r\n        gameModel.AnswerResult = [10,15,20,30]\r\n        gameModel.people = 75\r\n        this.NowQuestionCount.string = gameModel.QuestionCount + \"/\" + gameModel.Question.length\r\n        for(var i = 0; i < 4; i++)\r\n        {\r\n            //this.Options[i].getChildByName(\"選項文字\").getComponent(cc.Label).string = gameModel.Options[i];\r\n            this.OpacityAni_Start(this.Options[i].getChildByName(\"選項文字\"))\r\n            this.OpacityAni_Start(this.Options[i].getChildByName(\"選項字母\"))\r\n        }\r\n        this. SpawnNewWinner();\r\n        console.log(this.ColorString)\r\n        console.log(gameModel)\r\n    },\r\n\r\n     //列出得人獎物件\r\n     SpawnNewWinner(){\r\n      for(var i = 0; i < 5; i++)\r\n      {\r\n        var self = this;\r\n        this.Rank[i].getChildByName(\"玩家名子\").getComponent(cc.Label).string = \"甜甜\"//gameModel.winner_name[i]\r\n        this.Rank[i].getChildByName(\"玩家分數\").getChildByName(\"分數\").getComponent(cc.Label).string = \"123\"//gameModel.winner_score[i]\r\n        this.Rank[i].getChildByName(\"玩家耗時\").getChildByName(\"耗時\").getComponent(cc.Label).string = \"321\"//gameModel.winner_time[i]\r\n        //遠端載入: 網址轉圖片\r\n/*         cc.assetManager.loadRemote(gameModel.winner_picture[i],{ext :'.jpg'||'.png'},function(err,texture)\r\n        { \r\n          if(err) console.log(\"錯誤\")\r\n          else\r\n          {\r\n          var picture = new cc.SpriteFrame(texture); //texture 轉 SpriteFrame\r\n          self.Rank[i].getChildByName(\"頭相框\").getChildByName(\"遮罩\").getChildByName(\"玩家頭像\").getComponent(cc.Sprite).spriteFrame = picture;\r\n          }\r\n        }); */\r\n      }\r\n      this.schedule(this.OpacityAni, 0.2);\r\n    },\r\n\r\n    OpacityAni(){\r\n      this.PlayDarkAni(this.Rank[this.c].getChildByName(\"黑布\"))\r\n      this.c ++\r\n      console.log(this.c)\r\n      if (this.c == 5)  this.unschedule(this.OpacityAni);\r\n    },\r\n\r\n    AnswerButton(){\r\n        if( this.SeeResult == false)\r\n        {\r\n         //gameModel.WebSocket_GameStatus_Host(\"end\",0.1)\r\n         gameModel.GameStatusMessage = \"end\"\r\n        }\r\n        else  \r\n        {\r\n            //gameModel.WebSocket_GameStatus_Host(\"final\",0.1)\r\n            if(gameModel.QuestionCount == gameModel.Question.length) cc.director.loadScene(\"Host3_Last\");\r\n            else \r\n            {\r\n             // gameModel.WebSocket_GameStatus_Host(\"next\",0.1)\r\n                gameModel.QuestionCount ++\r\n                cc.director.loadScene(\"Host1_Question\")\r\n            }\r\n        }\r\n    },\r\n\r\n    PrintResult(){\r\n       this.SeeResult = true;\r\n       this.timenode.active = false\r\n       this.ShowAnswerString.string = gameModel.QuestionCount == gameModel.Question.length? \"結算\" : \"下一題\"\r\n       this.TimeBar.fillRange = 0\r\n       this.schedule(this.ProgressBar, 0.01);\r\n       for(var i = 0; i < 4; i++)\r\n        {\r\n            this.ResultAnswered[i].active = true\r\n            this.ResultAnswered[i].getComponent(cc.Label).string = gameModel.AnswerResult[i] + \"人\";\r\n            //this.Result[i].fillRange = -gameModel.AnswerResult[i] / gameModel.people ;\r\n            this.i = 0\r\n            if(i == this.Answer) continue;\r\n            this.Options[i].color = this.Options[i].getChildByName(\"選項文字\").color = this.Options[i].getChildByName(\"選項字母\").color = this.ColorString.colorOfString('#045858')     \r\n        }\r\n        for(var i = 0; i < 5; i++)\r\n        {\r\n            this.PlayBrightAni(this.Rank[i].getChildByName(\"黑布\"))\r\n        }\r\n    },\r\n\r\n    PlayBrightAni(node){\r\n       cc.tween(node)\r\n      .to(2, {opacity: 255})\r\n      .start();\r\n    },\r\n\r\n    PlayDarkAni(node){\r\n      cc.tween(node)\r\n      .to(2, {opacity: 0})\r\n      .start();\r\n    },\r\n\r\n    OpacityAni_Start(node){\r\n      node.opacity = 0\r\n      cc.tween(node)\r\n      .to(0.3, {opacity: 255})\r\n      .start();\r\n    },\r\n\r\n    OpacityAni_Time(){\r\n      cc.tween(this.Timelight.node)\r\n      .repeatForever(cc.tween()\r\n      .to(0.2, { opacity: 0})\r\n      .to(0.2, { opacity: 255})\r\n      )\r\n      .start()\r\n    },\r\n\r\n    ProgressBar(){\r\n      this.Result[this.i].fillRange -= 0.01;\r\n      if (this.Result[this.i].fillRange <= -gameModel.AnswerResult[this.i] / gameModel.people)\r\n      {\r\n          this.unschedule(this.ProgressBar);\r\n          this.i ++ \r\n          if(this.i > 3) return;\r\n          this.schedule(this.ProgressBar, 0.01);\r\n      } \r\n    },\r\n\r\n    TimeBarProgress(){\r\n      this.TimeBar.fillRange -= this.lerp;\r\n      this.count ++ \r\n      if(gameModel.gametimeCountDown == 10 && this.alreadyred == false) \r\n      {\r\n        this.alreadyred = true\r\n        this.TimeBar.spriteFrame = this.RedTimeBar\r\n        this.Timelight.spriteFrame = this.RedTimelight  \r\n        this.OpacityAni_Time()\r\n      }\r\n\r\n      if (this.TimeBar.fillRange < 0)\r\n      {\r\n        this.Timelight.node.active = false\r\n        this.unschedule(this.TimeBarProgress);\r\n      } \r\n    },\r\n\r\n    update (dt) {\r\n        if(gameModel.GameStatusMessage == \"end\" && this.SeeResult == false) \r\n        {\r\n          cc.audioEngine.stop(this.tensecsound.currentsound)\r\n          this.PrintResult();\r\n        }\r\n    },\r\n});\r\n"]}