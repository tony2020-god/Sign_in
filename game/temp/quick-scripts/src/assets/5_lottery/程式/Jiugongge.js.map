{"version":3,"sources":["assets\\5_lottery\\程式\\Jiugongge.js"],"names":["gameModel","require","WinnerItem","Jiugongge_Prize_information","Guest_Prize","cc","Class","Component","properties","CannotTouch","type","Node","Prize","items","Prefab","items_parent","AlretNode","Jiugongge_sound","AudioClip","Jiugongge_Ani","Prizes_Infor","GObuttun","Steam","Title","Lightning","prize_picture","ChanceText","Label","onLoad","Prize_Infromation","Game_js","speed","cycle","lotterymessage","Prize_ID","count","playing","index","indexprize","itemlist","indexcount","prizenode","getChildByName","GamePrizeInfor","find","getComponent","ThanksJoin","alreadyLottery","start","role","string","chance","mode","AlertText","SpawnPrize","i","Prizestack_id","length","push","children","Prizestack_name","Prize_Image","setinformation","startAction","CannotJoinGame","active","AllowRePrize","PrizeStaffs","sp","Skeleton","setAnimation","GoAni","unschedule","ControlAni","timeScale","scheduleOnce","JudgePrize_type","schedule","Lottery_Guest","lettorey","director","getScene","_name","includes","currentsound","audioEngine","play","Math","ceil","prize_ID","randomIndex","floor","random","prize_type","ShowPrize","self","assetManager","loadRemote","ext","err","texture","console","log","picture","SpriteFrame","Sprite","spriteFrame","prize_name_guest","PrizeAni","Congratulations","tween","to","scale","easing","node","instantiate","parent","setSiblingIndex","obj","updateInfo","closeFuc","event","customEventData","ClearJiugonggeEffect","TogetherAni","GoTogetherAni","ClearStatus","unscheduleAllCallbacks","update","dt","GameStatusMessage"],"mappings":"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","sourceRoot":"/","sourcesContent":["var gameModel = require(\"Model\");\nvar WinnerItem = require(\"Host1_Congratulations\");\nvar Jiugongge_Prize_information = require(\"prizeInformation\");\nvar Guest_Prize = require(\"Guest1_PrizeInformation\")\n\ncc.Class({\n    extends: cc.Component,\n\n    properties:{\n\n        CannotTouch:{\n        \tdefault:null,\n        \ttype: cc.Node\n        },\n\t\tPrize:{\n        \tdefault:null,\n        \ttype: cc.Node\n        },\n\t\titems:{\n            default:null,\n            type:cc.Prefab\n        },\n        items_parent:{\n            default:null,\n            type:cc.Node\n        },\n\t\tAlretNode:{\n            default:null,\n            type:cc.Node\n        },\n\t\tJiugongge_sound: {\n            default: [],\n            type: cc.AudioClip\n        },\n\t\tJiugongge_Ani:{\n            default:null,\n            type:cc.Node\n        },\n\t\tPrizes_Infor:{\n            default:null,\n            type:cc.Node\n        },\n\t\tGObuttun:{\n            default:null,\n            type:cc.Node\n        },\n\t\tSteam:{\n            default:null,\n            type:cc.Node\n        },\n\t\tTitle:{\n            default:null,\n            type:cc.Node\n        },\n\t\tLightning:{\n            default:null,\n            type:cc.Node\n        },\n\t\tprize_picture:{\n            default:null,\n            type:cc.Node\n        },\n\t\tChanceText:{\n            default:null,\n            type:cc.Label\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n     onLoad () {\n\t\tgameModel.Prize_Infromation()\n\t\tgameModel.Game_js = this\n     \tthis.speed = 0.06\n\t\tthis.cycle = 0\n\t\tthis.lotterymessage = false\n        this.Prize_ID = 0\n        this.count = 0\n\t\tthis.playing = false\n        this.index = 0\n\t\tthis.indexprize = []\n\t\tthis.itemlist = []\n\t\tthis.indexcount = 0\n\t\tthis.prizenode = this.Prize.getChildByName(\"得獎懸浮窗\")\n\t\tthis.GamePrizeInfor = cc.find(\"畫布\").getComponent(Guest_Prize)\n\t\tthis.ThanksJoin = []\n\t\tthis.alreadyLottery = false\n     },\n\n\t start(){\n\t\tif(gameModel.role == \"guest\") \n        {\n            this.ChanceText.string = gameModel.chance\n            gameModel.mode = \"simultaneous\"\n        }\n        else gameModel.mode = \"order\"\n        this.AlertText = this.AlretNode.getChildByName(\"警告文字\").getComponent(cc.Label)\n    },\n\t\n\t//開始時更新獎品資訊\n\tSpawnPrize(){\n        for(var i = 0; i < gameModel.Prizestack_id.length; i++)\n        {   \n            if(gameModel.Prizestack_id[i] == \"\") this.ThanksJoin.push(i);          \n            this.Prizes_Infor.children[i].getChildByName(\"獎品名稱\").getComponent(cc.Label).string = gameModel.Prizestack_name[i]\n            var Prize_Image = this.Prizes_Infor.children[i].getChildByName(\"獎品照片框\").getChildByName(\"遮罩\").getChildByName(\"獎品照片\").getComponent(Jiugongge_Prize_information);\n            Prize_Image.setinformation(i)\n        }\n    },\n\n\t//按下開始鍵\n\tstartAction(){\n\t\tif(gameModel.CannotJoinGame != \"\")\n        {\n            this.AlertText.string = \"沒有獎品了，無法抽獎，請主持人新增獎品後重新刷新頁面\"\n            this.AlretNode.active = true\n            return;\n        }\n        if(this.playing == true || (gameModel.mode != \"order\" && gameModel.role == \"host\")) return;\n        if(gameModel.role == \"guest\")\n        {\n           if(gameModel.chance == 0) \n           {\n              this.AlertText.string = \"沒有抽獎機會了，無法抽獎\"\n              this.AlretNode.active = true\n              return;\n           }\n           else \n           {\n               if(gameModel.AllowRePrize == \"close\" && gameModel.PrizeStaffs.length > 0)\n               {\n                 this.AlertText.string = \"錯誤 :該場次遊戲不允許重複中獎，您已中獎，無法參加遊戲抽獎\"\n                 this.AlretNode.active = true\n                 return;\n               }\n               else\n               {\n                 gameModel.chance --\n                 this.ChanceText.string = gameModel.chance\n               }\n           }\n        }\n\t\tthis.CannotTouch.active = true\n\t\tthis.playing = true\n\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).setAnimation(0,\"Rotate\",true);\n\n\t\tthis.GoAni = function(){\n\t\t\tif((this.count == this.cycle * 8 + this.Prize_ID) && this.lotterymessage) //到了指定禮物，取消轉動\n\t\t\t{\n\t\t\t\tthis.unschedule(this.GoAni);\n\t\t\t\tthis.ControlAni();\n\t\t\t\tthis.count =  this.Prize_ID\n\t\t\t\tthis.index = this.Prize_ID\n\t\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).timeScale = 1\n\t\t\t\tthis.alreadyLottery = false\n\t\t\t\tthis.scheduleOnce(function() { \n\t\t\t\t\tthis.JudgePrize_type();\n\t\t\t\t}, 0.5);\n\t\t\t\t\n\t\t\t}\n\t\t\telse if( ((this.count >= this.cycle * 8 && this.count < this.cycle * 8 + this.Prize_ID) && this.lotterymessage) || (this.count < 5) ) //最後一圈和起步 速度/8\n\t\t\t{ \n\t\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).timeScale = 3\n\t\t\t\tthis.ControlAni();\n\t\t\t\tthis.unschedule(this.GoAni);\n\t\t\t\tthis.schedule(this.GoAni,this.speed * 8);\n\t\t\t}\n\t\t\telse if((this.count >= 5 && this.count <= 12))                                        //起步後第一階段加速 速度/3\n\t\t\t{\t\t\n\t\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).timeScale = 4\n\t\t\t\tthis.ControlAni();\n\t\t\t\tthis.unschedule(this.GoAni);\n\t\t\t\tthis.schedule(this.GoAni,this.speed * 3);\n\t\t\t}\n\t\t\telse if(this.count > 12 && this.count < 20)                                           //起步後第二階段加速 速度\n\t\t\t{\n\t\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).timeScale = 10\n\t\t\t\tthis.ControlAni();\n\t\t\t\tthis.unschedule(this.GoAni);\n\t\t\t\tthis.schedule(this.GoAni,this.speed);\n\t\t\t}\n\t\t\telse if(this.count >= (this.cycle - 2) * 8 && this.count < (this.cycle - 1) * 8)      //倒數第3圈 速度/2\n\t\t\t{\n\t\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).timeScale = 7\n\t\t\t\tthis.ControlAni();\n\t\t\t\tthis.unschedule(this.GoAni);\n\t\t\t\tthis.schedule(this.GoAni,this.speed * 2);\n\t\t\t}\n\t\t\telse if( (this.count >= (this.cycle - 1) * 8) && (this.count < this.cycle * 8))      //倒數第2圈 速度/5\n\t\t\t{ \n\t\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).timeScale = 5\n\t\t\t\tthis.ControlAni();\n\t\t\t\tthis.unschedule(this.GoAni);\n\t\t\t\tthis.schedule(this.GoAni,this.speed * 5);\n\t\t\t}\n\t\t\telse                                                                                 //加速完成，最高轉速 速度*2\n\t\t\t{\n\t\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).timeScale = 15\n\t\t\t\tthis.ControlAni();\n                if(this.alreadyLottery == true) return;\n\t\t\t\tthis.alreadyLottery = true\n\t\t\t\tthis.scheduleOnce(function() { \n\t\t\t\t\tgameModel.Lottery_Guest();\n\t\t\t\t }, 3);\n\t\t\t}\n\t\t}\n\t\tthis.schedule(this.GoAni,this.speed);\n\t},\n\n    //中獎\n    lettorey(){\n\t\tif(gameModel.CannotJoinGame != \"\")\n        {\n\t\t\tthis.unschedule(this.GoAni);\n\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).timeScale = 1\n\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).setAnimation(0,\"Broken\",false);\n\t\t\tthis.Title.getComponent(sp.Skeleton).setAnimation(0,\"Broken\",false);\n            if(cc.director.getScene()._name.includes(\"Host\")) \n            {\t\n\t\t\t\tthis.Lightning.getComponent(sp.Skeleton).setAnimation(0,\"PC\",true); \n                this.Steam.getComponent(sp.Skeleton).setAnimation(0,\"Broken_PC\",true); \n                this.currentsound = cc.audioEngine.play(this.Jiugongge_sound[7], false, 0.7);\n            }\n            else \n\t\t\t{\n\t\t\t\tthis.Lightning.getComponent(sp.Skeleton).setAnimation(0,\"Phone\",true); \n\t\t\t\tthis.Steam.getComponent(sp.Skeleton).setAnimation(0,\"Broken_M\",true);\n\t\t\t}\n\n            this.scheduleOnce(function() { \n                this.AlertText.string = \"沒有獎品了，無法抽獎，請主持人新增獎品後重新刷新頁面\"\n                this.AlretNode.active = true\n            }, 1.2);\n            return;\n        }\n        this.cycle = Math.ceil(this.count / 8) + 4;\n        for(var i = 0; i < gameModel.Prizestack_id.length; i++)\n        {\n            if(gameModel.prize_ID != \"\" && gameModel.Prizestack_id[i] == gameModel.prize_ID) this.Prize_ID = i;\n            else if(gameModel.prize_ID == \"\")\n            {\n                let randomIndex = Math.floor(Math.random() * (this.ThanksJoin.length));  //隨機獎品\n                this.Prize_ID = this.ThanksJoin[randomIndex];\n            }\n        } \n\t    this.lotterymessage = true\n\t},\n\n\t//判斷獎品等級\n\tJudgePrize_type(){\n\t\tif(gameModel.prize_type == \"first\")\n\t\t{\n\t\t\tthis.Title.getComponent(sp.Skeleton).setAnimation(0,\"A1\",false);\n\t\t\tif(cc.director.getScene()._name.includes(\"Host\")) \n\t\t\t{\n\t\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).setAnimation(0,\"1_PC\",false);\n\t\t\t\tthis.currentsound = cc.audioEngine.play(this.Jiugongge_sound[1], false, 0.5);\n\t\t\t}\n\t\t\telse this.Jiugongge_Ani.getComponent(sp.Skeleton).setAnimation(0,\"1_Phone\",false);\n\t\t\tthis.GObuttun.getComponent(sp.Skeleton).setAnimation(0,\"Roll_Open\",false)\n\t\t}\n\t\telse if (gameModel.prize_type == \"second\")\n\t\t{\n\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).setAnimation(0,\"A2\",false);\n\t\t\tthis.GObuttun.getComponent(sp.Skeleton).setAnimation(0,\"Open\",false)\n\t\t\tif(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.Jiugongge_sound[2], false, 1);\n\t\t} \n\t\telse if (gameModel.prize_type == \"third\") \n\t\t{\n\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).setAnimation(0,\"A3\",false);\n\t\t\tthis.GObuttun.getComponent(sp.Skeleton).setAnimation(0,\"Open\",false)\n\t\t\tif(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.Jiugongge_sound[3], false, 1);\n\t\t}\n\t\telse if (gameModel.prize_type == \"special\") \n\t\t{\n\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).setAnimation(0,\"A4\",false);\n\t\t\tthis.GObuttun.getComponent(sp.Skeleton).setAnimation(0,\"Open\",false)\n\t\t\tif(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.Jiugongge_sound[4], false, 1);\n\t\t}\n\t\telse if (gameModel.prize_type == \"thanks\") \n\t\t{\n\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).setAnimation(0,\"A5\",false);\n\t\t\tthis.GObuttun.getComponent(sp.Skeleton).setAnimation(0,\"Open\",false)\n\t\t\tif(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.Jiugongge_sound[5], false, 1);\n\t\t}\n\t\tif(gameModel.role == \"guest\" && gameModel.prize_type != \"thanks\") this.GamePrizeInfor.SpawnPrize()\n\t\tthis.scheduleOnce(function() { \n\t\t\tthis.ShowPrize();\n\t\t}, 2);\n\t},\n\n\t//跳出獎品視窗\n\tShowPrize(){\n        var self = this;\n        cc.assetManager.loadRemote(gameModel.prize_picture,{ext :'.jpg'||'.png'},function(err,texture)\n        {  \n            if(err) console.log(\"錯誤\")\n            else\n            {\n                var picture = new cc.SpriteFrame(texture); //texture 轉 SpriteFrame\n                self.prize_picture.getComponent(cc.Sprite).spriteFrame = picture;\n            }\n        }); \n        this.Prize.getChildByName(\"得獎懸浮窗\").getChildByName(\"獎項\").getComponent(cc.Label).string = gameModel.prize_name_guest\n        this.Prize.getChildByName(\"得獎懸浮窗\").getChildByName(\"哭臉\").active =  gameModel.prize_type == \"thanks\" ? true : false;\n        this.Prize.getChildByName(\"得獎懸浮窗\").getChildByName(\"得獎_中央圖標\").active = gameModel.prize_type == \"thanks\" ? false : true;\n        this.Prize.active = true\n        this.PrizeAni();\n\t\tthis.lotterymessage = false\n\t\tthis.playing = false\n\t\tthis.cycle = 0\n\t\tthis.CannotTouch.active = false\n        if(gameModel.role == \"host\" && gameModel.prize_type != \"thanks\") this.currentsound = cc.audioEngine.play(this.Jiugongge_sound[6], false, 1);\n        if(gameModel.mode != \"order\" || gameModel.role == \"guest\" ||  gameModel.prize_type == \"thanks\") return\n        this.Congratulations();\n    },\n\n\t//獎品動畫\n    PrizeAni(){\n\t\tthis.lotterymessage = false\n\t\tthis.playing = false\n        cc.tween(this.prizenode)\n        .to(1, { scale: 1 }, {easing: \"elasticOut\"})\n        .start();\n    },\n\n\t//依序參與時新增中獎獎項\n\tCongratulations(){\n        this.indexcount++;\n        this.indexprize.push(this.indexcount);\n        var node = cc.instantiate(this.items);\n        node.parent = this.items_parent;\n        node.setSiblingIndex(0); //讓子物件顯示在最上層\n        var obj = node.getComponent(WinnerItem);//抓取WinnerItem\n        this.itemlist.push(obj);\n        this.itemlist[this.indexcount - 1].updateInfo(this.indexcount - 1);\n    },\n\n\t//關閉特定視窗\n\tcloseFuc(event, customEventData){\n\t\tif(customEventData == \"prize\") \n\t\t{\n\t\t  this.Prize.active = false\n\t\t  this.ClearJiugonggeEffect();\n\t\t}\n\t\telse if(customEventData == \"alret\" && gameModel.CannotJoinGame == \"\") this.AlretNode.active = false\n\t\tthis.prizenode.scale = (0,0)\n\t},\n\n\t//清除九宮格特效\n\tClearJiugonggeEffect(){\n        this.Jiugongge_Ani.getComponent(sp.Skeleton).setAnimation(0,\"usual\",true);\n\t\tthis.GObuttun.getComponent(sp.Skeleton).setAnimation(0,\"Usual\",false);\n\t\tthis.Lightning.getComponent(sp.Skeleton).setAnimation(0,\"usual\",true);\n\t\tif(gameModel.role == \"guest\") this.Title.getComponent(sp.Skeleton).setAnimation(0,\"usual_Phone\",true);\n\t\telse this.Title.getComponent(sp.Skeleton).setAnimation(0,\"usual_PC\",true);\n    },\n\n\t//九宮格格子動畫\n\tControlAni(){\n\t\tif(gameModel.role == \"host\" && gameModel.mode == \"order\") this.currentsound = cc.audioEngine.play(this.Jiugongge_sound[0], false, 0.2);\n\t\tthis.Prizes_Infor.children[(this.index + 8 - 1) % 8].getChildByName(\"沒選上遮罩\").active = true;\n\t\tthis.index = this.index % 8;\n\t\tthis.Prizes_Infor.children[this.index].getChildByName(\"沒選上遮罩\").active = false;\n\t\tthis.index ++;\n\t\tthis.count ++;\n\t},\n\n\t//同時參與主持人動畫\n\tTogetherAni(){\n\t\tthis.GoTogetherAni = function(){\n\t\t\tthis.Jiugongge_Ani.getComponent(sp.Skeleton).timeScale = 1\n\t\t\tthis.ControlAni();\n\t\t}\n\t\tthis.schedule(this.GoTogetherAni,this.speed * 8);\n    },\n\n\t//清除格子狀態\n\tClearStatus(){\n\t\tthis.count = 0\n\t\tthis.index = 0\n\t \tthis.unscheduleAllCallbacks()\n\t\tfor(var i = 0; i < 8; i++)\n\t\t{\n\t\t\tthis.Prizes_Infor.children[i].getChildByName(\"沒選上遮罩\").active = true;\n\t\t} \n\t},\n\n\tupdate(dt){\n        if (gameModel.GameStatusMessage == \"close\" && gameModel.role == \"guest\")\n        {\n          this.AlertText.string = \"請等待主辦方開啟同時參與模式才能進行遊戲\";\n          this.AlretNode.active = true\n        }\n    },\n});\n"]}