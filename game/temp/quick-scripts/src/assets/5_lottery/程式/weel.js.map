{"version":3,"sources":["assets\\5_lottery\\程式\\weel.js"],"names":["gameModel","require","Wheel_Prize_information","WinnerItem","Guest_Prize","cc","Class","Component","properties","wheel","type","Node","wheel_out","Title","TopLight","Nail","wheel_out_Light","Prize","ChanceText","Label","AlretNode","cannnottouch","Prizes_Infor","items","Prefab","items_parent","Steam","wheel_sound","AudioClip","prize_picture","onLoad","Game_js","Prize_Infromation","indexcount","index","itemlist","Prize_total","wheelState","Prize_ID","IDAngle","Prize_Angle","prizenode","getChildByName","Wheel_Prize","find","GamePrizeInfor","getComponent","ThanksJoin","start","role","string","chance","mode","AlertText","SpawnPrize","i","Prizestack_id","length","push","children","Prizestack_name","Prize_Image","setinformation","StartBtn","CannotJoinGame","active","AllowRePrize","PrizeStaffs","currentsound","audioEngine","play","aniSlow_In","sp","Skeleton","setAnimation","timeScale","ani_SlowIn","tween","by","angle","easing","call","KeepTurn","repeatForever","ani_wheelState1","then","scheduleOnce","Lottery_Guest","lettorey","pauseAllEffects","director","getScene","_name","includes","stop","rotation","prize_ID","randomIndex","Math","floor","random","FinalAngle","aniSlow_Out","self","RandomEffect","round","StopEffect","NewCircle","ceil","lerp","StopWeel","prize_type","to","opacity","ShowPrize","ClearWheelEffect","clearTracks","assetManager","loadRemote","ext","err","texture","console","log","picture","SpriteFrame","Sprite","spriteFrame","prize_name_guest","PrizeAni","Congratulations","scale","node","instantiate","parent","setSiblingIndex","obj","updateInfo","closeFuc","event","customEventData","update","dt","GameStatusMessage"],"mappings":"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","sourceRoot":"/","sourcesContent":["var gameModel = require(\"Model\");\r\nvar Wheel_Prize_information = require(\"prizeInformation\");\r\nvar WinnerItem = require(\"Host1_Congratulations\");\r\nvar Guest_Prize = require(\"Guest1_PrizeInformation\")\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        wheel:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n\r\n        wheel_out:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n\r\n        Title:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n\r\n        TopLight:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n\r\n        Nail:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n\r\n        wheel_out_Light:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n\r\n        Prize:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n\r\n        ChanceText:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n\r\n        AlretNode:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n\r\n        cannnottouch:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n\r\n        Prizes_Infor:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        items:{\r\n            default:null,\r\n            type:cc.Prefab\r\n        },\r\n        items_parent:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        Steam:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        wheel_sound: {\r\n            default: [],\r\n            type: cc.AudioClip\r\n        },\r\n        prize_picture:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n    },\r\n\r\n    onLoad() {\r\n        gameModel.Game_js = this\r\n        gameModel.Prize_Infromation()\r\n        this.indexcount = 0\r\n        this.index = [];\r\n        this.itemlist = [];\r\n        this.Prize_total = 8\r\n        this.wheelState = 0;     \r\n        this.Prize_ID = 0           \r\n        this.IDAngle = 360 / this.Prize_total;   //每个編號的角度\r\n        this.Prize_Angle = 0;                   //得獎獎品的角度\r\n        this.prizenode = this.Prize.getChildByName(\"得獎懸浮窗\")\r\n        this.Wheel_Prize = cc.find(\"畫布/輪盤/輪盤_內/獎項\")\r\n        this.GamePrizeInfor = cc.find(\"畫布\").getComponent(Guest_Prize)\r\n        this.ThanksJoin = []\r\n    },\r\n\r\n    start(){\r\n        if(gameModel.role == \"guest\") \r\n        {\r\n            this.ChanceText.string = gameModel.chance\r\n            gameModel.mode = \"simultaneous\"\r\n        }\r\n        else gameModel.mode = \"order\"\r\n        this.AlertText = this.AlretNode.getChildByName(\"警告文字\").getComponent(cc.Label)\r\n    },\r\n\r\n    SpawnPrize(){\r\n        for(var i = 0; i < gameModel.Prizestack_id.length; i++)\r\n        {   \r\n            if(gameModel.Prizestack_id[i] == \"\") this.ThanksJoin.push(i);          \r\n            this.Prizes_Infor.children[i].getComponent(cc.Label).string = gameModel.Prizestack_name[i]\r\n            var Prize_Image = this.Prizes_Infor.children[i].getChildByName(\"獎品照片框\").getChildByName(\"遮罩\").getChildByName(\"獎品照片\").getComponent(Wheel_Prize_information);\r\n            Prize_Image.setinformation(i)\r\n        }\r\n    },\r\n\r\n    //按下開始遊戲鍵，重置參數\r\n    StartBtn(){\r\n        if(gameModel.CannotJoinGame != \"\")\r\n        {\r\n            this.AlertText.string = \"沒有獎品了，無法抽獎，請主持人新增獎品後重新刷新頁面\"\r\n            this.AlretNode.active = true\r\n            return;\r\n        }\r\n        if(this.wheelState !== 0 || (gameModel.mode != \"order\" && gameModel.role == \"host\")) return;\r\n        if(gameModel.role == \"guest\")\r\n        {\r\n           if(gameModel.chance == 0) \r\n           {\r\n              this.AlertText.string = \"沒有抽獎機會了，無法抽獎\"\r\n              this.AlretNode.active = true\r\n              return;\r\n           }\r\n           else \r\n           {\r\n               if(gameModel.AllowRePrize == \"close\" && gameModel.PrizeStaffs.length > 0)\r\n               {\r\n                 this.AlertText.string = \"錯誤 :該場次遊戲不允許重複中獎，您已中獎，無法參加遊戲抽獎\"\r\n                 this.AlretNode.active = true\r\n                 return;\r\n               }\r\n               else\r\n               {\r\n                 gameModel.chance --\r\n                 this.ChanceText.string = gameModel.chance\r\n               }\r\n           }\r\n        }\r\n        if(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.wheel_sound[0], false, 1);\r\n        this.cannnottouch.active = true;\r\n        this.wheelState = 1; \r\n        this.aniSlow_In();\r\n    },\r\n\r\n    //輪盤加速，緩入動作\r\n    aniSlow_In(){\r\n        this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,\"Rotate\",true);\r\n        this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 5 ;\r\n        //緩入動畫\r\n        var ani_SlowIn =  cc.tween(this.wheel)\r\n                          .by(2, { angle: 360}, {easing: 'circIn'})\r\n                          .call(() => { this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 10 })\r\n        //持續旋轉動畫\r\n        var KeepTurn = cc.tween(this.wheel)\r\n                       .by(0.35, { angle: 360})\r\n                       .repeatForever()\r\n\r\n\r\n        this.ani_wheelState1 = cc.tween(this.wheel)\r\n                               .then(ani_SlowIn)\r\n                               .then(KeepTurn)\r\n                               .start()\r\n    \r\n        if(gameModel.role == \"host\")\r\n        {\r\n            this.scheduleOnce(function() { \r\n                this.currentsound = cc.audioEngine.play(this.wheel_sound[1], true, 1);\r\n             }, 2);\r\n        }\r\n\r\n        this.scheduleOnce(function() { \r\n           gameModel.Lottery_Guest();\r\n        }, 5);\r\n    },\r\n\r\n    //獎品資訊送達\r\n    lettorey(){\r\n        if(gameModel.role == \"host\") cc.audioEngine.pauseAllEffects();\r\n        if(gameModel.CannotJoinGame != \"\")\r\n        {\r\n            this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 1 ;\r\n            this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,\"5\",false);\r\n            this.wheel_out.getComponent(sp.Skeleton).setAnimation(0,\"Broken\",true);\r\n            this.Title.getComponent(sp.Skeleton).setAnimation(0,\"Broken\",false);\r\n            this.Nail.getComponent(sp.Skeleton).setAnimation(0,\"Broken\",false); \r\n            if(cc.director.getScene()._name.includes(\"Host\")) \r\n            {\r\n                this.Steam.getComponent(sp.Skeleton).setAnimation(0,\"Broken_PC\",true); \r\n                this.currentsound = cc.audioEngine.play(this.wheel_sound[9], false, 0.7);\r\n            }\r\n            else this.Steam.getComponent(sp.Skeleton).setAnimation(0,\"Broken_M\",false);\r\n\r\n            this.scheduleOnce(function() { \r\n                this.AlertText.string = \"沒有獎品了，無法抽獎，請主持人新增獎品後重新刷新頁面\"\r\n                this.AlretNode.active = true\r\n                this.ani_wheelState1.stop();\r\n                this.wheel.rotation = 0;\r\n            }, 1.2);\r\n            return;\r\n        }\r\n        for(var i = 0; i < gameModel.Prizestack_id.length; i++)\r\n        {\r\n            if(gameModel.prize_ID != \"\" && gameModel.Prizestack_id[i] == gameModel.prize_ID) this.Prize_ID = i;\r\n            else if(gameModel.prize_ID == \"\")\r\n            {\r\n                let randomIndex = Math.floor(Math.random() * (this.ThanksJoin.length));  //隨機獎品\r\n                this.Prize_ID = this.ThanksJoin[randomIndex];\r\n            }\r\n        }\r\n        if(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.wheel_sound[2], false, 1);\r\n        this.Prize_Angle = this.Prize_ID * this.IDAngle; //最終角度 = 360 - 目標編號 * 每個編號的角度\r\n        this.FinalAngle = this.Prize_Angle + Math.floor(Math.random() * (this.IDAngle - (3 + 1)) + 3);  //使指針不會每次都在格子中間\r\n        this.wheelState = 2\r\n        this.aniSlow_Out()\r\n    },\r\n\r\n    \r\n\r\n    //輪盤減速，緩出動作\r\n    aniSlow_Out(){\r\n         var self = this;\r\n         this.ani_wheelState1.stop();\r\n         var RandomEffect = Math.round(Math.random()) //隨機選擇緩出效果\r\n         var StopEffect = RandomEffect == 1 ? \"circOut\" : \"backOut\" //緩出效果\r\n         var NewCircle = Math.ceil(this.wheel.angle / 360) //四捨五入的圈數\r\n         var lerp = NewCircle * 360 - this.wheel.angle //差值 = 四捨五入的圈數 * 360 - 目前角度\r\n         this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 5 ;\r\n         //緩出動畫\r\n         cc.tween(this.wheel)\r\n        .by(5, { angle: 360 + lerp + self.FinalAngle}, {easing: StopEffect})\r\n        .call(() => {self.StopWeel();})\r\n        .start();\r\n    },\r\n\r\n    //輪盤停下，顯示獎品\r\n    StopWeel(){\r\n        this.wheel_out_Light.getComponent(sp.Skeleton).timeScale = 1 ;\r\n        if(gameModel.prize_type == \"first\")\r\n        {\r\n            this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,\"1\",false);\r\n            this.wheel_out.getComponent(sp.Skeleton).setAnimation(0,\"Roll\",false);\r\n            this.Title.getComponent(sp.Skeleton).setAnimation(0,\"Roll\",false);\r\n            this.Nail.getComponent(sp.Skeleton).setAnimation(0,\"Roll\",false);\r\n            if(cc.director.getScene()._name.includes(\"Host\")) \r\n            {\r\n                this.TopLight.getComponent(sp.Skeleton).setAnimation(0,\"Roll_PC\",false);\r\n                this.currentsound = cc.audioEngine.play(this.wheel_sound[3], false, 0.5);\r\n            }\r\n            else this.TopLight.getComponent(sp.Skeleton).setAnimation(0,\"Roll_M\",false);\r\n        }\r\n        else if (gameModel.prize_type == \"second\")\r\n        {\r\n            this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,\"2\",false);\r\n            if(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.wheel_sound[4], false, 1);\r\n        } \r\n        else if (gameModel.prize_type == \"third\") \r\n        {\r\n            this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,\"3\",false);\r\n            if(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.wheel_sound[5], false, 1);\r\n        }\r\n        else if (gameModel.prize_type == \"special\") \r\n        {\r\n            this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,\"4\",false);\r\n            if(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.wheel_sound[6], false, 1);\r\n        }\r\n        else if (gameModel.prize_type == \"thanks\") \r\n        {\r\n            this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,\"5\",false);\r\n            if(gameModel.role == \"host\") this.currentsound = cc.audioEngine.play(this.wheel_sound[7], false, 1);\r\n        }\r\n\r\n        cc.tween(this.Wheel_Prize.children[this.Prize_ID].getChildByName(\"扇形\"))\r\n        .to(0.3, { opacity: 255 })\r\n        .start();\r\n        \r\n        if(gameModel.role == \"guest\" && gameModel.prize_type != \"thanks\") this.GamePrizeInfor.SpawnPrize()\r\n        \r\n        this.scheduleOnce(function() { \r\n          this.cannnottouch.active = false;\r\n          this.ShowPrize()\r\n         }, 2.3);\r\n    },\r\n\r\n    ClearWheelEffect(){\r\n        this.wheel_out_Light.getComponent(sp.Skeleton).setAnimation(0,\"usual\",true);\r\n        this.wheel_out.getComponent(sp.Skeleton).clearTracks();\r\n        this.Title.getComponent(sp.Skeleton).setAnimation(0,\"Usuall\",true);\r\n        this.Nail.getComponent(sp.Skeleton).clearTracks();\r\n        this.TopLight.getComponent(sp.Skeleton).setAnimation(0,\"usual\",false);\r\n        this.Steam.getComponent(sp.Skeleton).setAnimation(0,\"Usuall\",false);\r\n    },\r\n\r\n    ShowPrize(){\r\n        var self = this;\r\n        cc.assetManager.loadRemote(gameModel.prize_picture,{ext :'.jpg'||'.png'},function(err,texture)\r\n        {  \r\n            if(err) console.log(\"錯誤\")\r\n            else\r\n            {\r\n                var picture = new cc.SpriteFrame(texture); //texture 轉 SpriteFrame\r\n                self.prize_picture.getComponent(cc.Sprite).spriteFrame = picture;\r\n            }\r\n        });\r\n        this.Prize.getChildByName(\"得獎懸浮窗\").getChildByName(\"獎項\").getComponent(cc.Label).string = gameModel.prize_name_guest\r\n        this.Prize.getChildByName(\"得獎懸浮窗\").getChildByName(\"哭臉\").active =  gameModel.prize_type == \"thanks\" ? true : false;\r\n        this.Prize.getChildByName(\"得獎懸浮窗\").getChildByName(\"得獎_中央圖標\").active = gameModel.prize_type == \"thanks\" ? false : true;\r\n        this.Prize.active = true\r\n        this.PrizeAni();\r\n        if(gameModel.role == \"host\" && gameModel.prize_type != \"thanks\") this.currentsound = cc.audioEngine.play(this.wheel_sound[8], false, 1);\r\n        if(gameModel.mode != \"order\" || gameModel.role == \"guest\" ||  gameModel.prize_type == \"thanks\") return\r\n        this.Congratulations();\r\n    },\r\n\r\n    PrizeAni(){\r\n        this.wheelState = 0;\r\n        cc.tween(this.prizenode)\r\n        .to(1, { scale: 1 }, {easing: \"elasticOut\"})\r\n        .start();\r\n    },\r\n\r\n    Congratulations(){\r\n        this.indexcount++;\r\n        this.index.push(this.indexcount);\r\n        var node = cc.instantiate(this.items);\r\n        node.parent = this.items_parent;\r\n        node.setSiblingIndex(0); //讓子物件顯示在最上層\r\n        var obj = node.getComponent(WinnerItem);//抓取WinnerItem\r\n        this.itemlist.push(obj);\r\n        this.itemlist[this.indexcount - 1].updateInfo(this.indexcount - 1);\r\n    },\r\n\r\n    //關閉特定視窗\r\n    closeFuc(event, customEventData){\r\n       if(customEventData == \"prize\") \r\n       {\r\n        this.Prize.active = false\r\n        this.ClearWheelEffect();\r\n        this.Wheel_Prize.children[this.Prize_ID].getChildByName(\"扇形\").opacity = 0\r\n       }\r\n       else if(customEventData == \"alret\" && gameModel.CannotJoinGame == \"\") this.AlretNode.active = false\r\n       this.prizenode.scale = (0,0)\r\n    },\r\n\r\n    update(dt){\r\n        if (gameModel.GameStatusMessage == \"close\" && gameModel.role == \"guest\")\r\n        {\r\n          this.AlertText.string = \"請等待主辦方開啟同時參與模式才能進行遊戲\";\r\n          this.AlretNode.active = true\r\n        }\r\n    },\r\n});"]}