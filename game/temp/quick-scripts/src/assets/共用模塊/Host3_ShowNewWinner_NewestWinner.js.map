{"version":3,"sources":["assets\\共用模塊\\Host3_ShowNewWinner_NewestWinner.js"],"names":["gameModel","require","Host3_ShowNewWinner_Original","cc","Class","properties","items3_Text","type","Label","items4_Text","items3_Picture","Sprite","items4_Picture","onLoad","itemlist","winlist","index","indexcount","alreadyend","string","spriteFrame","WinnerData","SpawnNewestWinner","NewestWinner","self","winner_name","length","assetManager","loadRemote","winner_picture","ext","err","texture","console","log","picture","SpriteFrame"],"mappings":"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","sourceRoot":"/","sourcesContent":["var gameModel = require(\"Model\");\r\nvar Host3_ShowNewWinner_Original = require(\"Host3_ShowNewWinner\")\r\n\r\n///主持人及時顯示中獎玩家並更新最新兩位中獎玩家js\r\ncc.Class({\r\n    extends: Host3_ShowNewWinner_Original,\r\n\r\n    properties: {\r\n        items3_Text: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        items4_Text: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        items3_Picture: {\r\n            default: null,\r\n            type: cc.Sprite\r\n        },\r\n        items4_Picture: {\r\n            default: null,\r\n            type: cc.Sprite\r\n        },\r\n    },\r\n\r\n    onLoad () {\r\n        this.itemlist=[];\r\n        this.winlist=[];\r\n        this.index = [];\r\n        this.indexcount = 0;\r\n        this.alreadyend = false\r\n        this.items3_Text.string = \"\";\r\n        this.items3_Picture.spriteFrame = null;\r\n        gameModel.WinnerData = this;\r\n        gameModel.SpawnNewestWinner = true;\r\n    },\r\n\r\n    //傳送最新2位最新得獎人資料\r\n    NewestWinner(){\r\n        var self = this\r\n        this.items3_Picture.spriteFrame = null;\r\n        this.items3_Text.string = gameModel.winner_name[gameModel.winner_name.length - 1];\r\n        //遠端載入: 網址轉圖片\r\n        cc.assetManager.loadRemote(gameModel.winner_picture[gameModel.winner_name.length - 1],{ext :'.jpg'||'.png'},function(err,texture)\r\n        { \r\n          if (err) console.log(\"錯誤\")\r\n          else\r\n          {\r\n            var picture = new cc.SpriteFrame(texture); //texture 轉 SpriteFrame\r\n            self.items3_Picture.spriteFrame = picture;\r\n          }\r\n        });\r\n        //取得第二新得獎人資料\r\n        if(gameModel.winner_name.length >= 2) \r\n        {\r\n            self.items4_Picture.spriteFrame = null;\r\n           this.items4_Text.string = gameModel.winner_name[gameModel.winner_name.length - 2];\r\n           //遠端載入: 網址轉圖片\r\n           cc.assetManager.loadRemote(gameModel.winner_picture[gameModel.winner_name.length - 2],{ext :'.jpg'||'.png'},function(err,texture) \r\n           {\r\n               if (err)console.log(\"錯誤\")\r\n               else\r\n               {\r\n                   var picture = new cc.SpriteFrame(texture); //texture 轉 SpriteFrame\r\n                   self.items4_Picture.spriteFrame = picture;\r\n               }\r\n          });\r\n        }\r\n        else \r\n        {\r\n         this.items4_Text.string = \"\";\r\n         this.items4_Picture.spriteFrame = null;\r\n        }\r\n    },\r\n\r\n});\r\n\r\n\r\n\r\n\r\n\r\n \r\n   "]}