{"version":3,"sources":["assets\\共用模塊\\Guest5_PrizeRecordItem.js"],"names":["gameModel","require","cc","Class","Component","properties","timelabel","type","Label","roundlabel","prize_namelabel","PrizeMethod","Prize_img","Sprite","AlreadyExchange","Node","onLoad","prize_method_chinese","updateInfo","i","self","assetManager","loadRemote","Domain","prize_picture","ext","err","texture","console","log","picture","SpriteFrame","getComponent","spriteFrame","string","Win_Time","getprize_round","prize_name_guest","prize_method","WhitchPrize_index","exchangePrize","active","updatePrizeBlock","PrizeStaffs","win_time","round","prize_name","method","status"],"mappings":"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","sourceRoot":"/","sourcesContent":["var gameModel = require(\"Model\");\r\n\r\n///玩家將獎品資訊顯示出來js\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        timelabel: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        roundlabel: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n\r\n        prize_namelabel: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        \r\n        PrizeMethod:{\r\n            default:null,\r\n            type: cc.Label\r\n        },\r\n\r\n        Prize_img:{\r\n            default:null,\r\n            type: cc.Sprite\r\n        },\r\n\r\n        AlreadyExchange:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n    },\r\n    \r\n    onLoad(){\r\n        this.prize_method_chinese = null\r\n    },\r\n\r\n    //取得當前獎品資料\r\n    updateInfo(i){ \r\n        var self = this\r\n        cc.assetManager.loadRemote(gameModel.Domain + gameModel.prize_picture[i],{ext :'.jpg'||'.png'},function(err,texture)\r\n        { \r\n            if(err) console.log(\"錯誤\")\r\n            else\r\n            {\r\n                var picture = new cc.SpriteFrame(texture); //texture 轉 SpriteFrame\r\n                self.Prize_img.getComponent(cc.Sprite).spriteFrame = picture;\r\n            }\r\n         });\r\n        this.timelabel.string = gameModel.Win_Time[i];  //顯示得獎時間\r\n        this.roundlabel.string = \"第\" + gameModel.getprize_round[i] + \"輪\"; //顯示得獎輪次\r\n        this.prize_namelabel.string = gameModel.prize_name_guest[i]; //顯示獎品名稱\r\n        this.prize_method_chinese = gameModel.prize_method[gameModel.WhitchPrize_index] == \"site\" ? \"現場兌換\" : \"郵件兌換\" //將兌獎方式翻成中文\r\n        this.PrizeMethod.string = this.prize_method_chinese; //顯示兌獎方式\r\n        if(gameModel.exchangePrize[i] == \"yes\") this.AlreadyExchange.active = true; //若已兌換，兌換按鍵功能停止，並將圖片轉為已兌換\r\n    },\r\n\r\n    //取得當前獎品資料\r\n    updatePrizeBlock(i){ \r\n        var self = this\r\n        cc.assetManager.loadRemote(gameModel.Domain + gameModel.PrizeStaffs[i].picture,{ext :'.jpg'||'.png'},function(err,texture)\r\n        { \r\n            if(err) console.log(\"錯誤\")\r\n            else\r\n            {\r\n                var picture = new cc.SpriteFrame(texture); //texture 轉 SpriteFrame\r\n                self.Prize_img.getComponent(cc.Sprite).spriteFrame = picture;\r\n            }\r\n        });\r\n        this.timelabel.string = gameModel.PrizeStaffs[i].win_time;  //顯示得獎時間\r\n        this.roundlabel.string = \"第\" + gameModel.PrizeStaffs[i].round + \"輪\"; //顯示得獎輪次\r\n        this.prize_namelabel.string = gameModel.PrizeStaffs[i].prize_name; //顯示獎品名稱\r\n        this.prize_method_chinese = gameModel.PrizeStaffs[i].method == \"site\" ? \"現場兌換\" : \"郵件兌換\" //將兌獎方式翻成中文\r\n        this.PrizeMethod.string = this.prize_method_chinese; //顯示兌獎方式\r\n        if(gameModel.PrizeStaffs[i].status == \"yes\") this.AlreadyExchange.active = true; //若已兌換，兌換按鍵功能停止，並將圖片轉為已兌換\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}