{"version":3,"sources":["assets\\共用模塊\\備份\\rwd.js"],"names":["gameModel","require","cc","Class","Component","properties","onLoad","window","addEventListener","event","log","orientation","currentScene","director","getScene","name","changeScene","replace","sys","isMobile","view","_orientation","macro","ORIENTATION_AUTO","setOrientation","ORIENTATION_PORTRAIT","device","ORIENTATION_LANDSCAPE","loadScene"],"mappings":";;;;;;AACA,IAAIA,SAAS,GAAGC,OAAO,CAAC,OAAD,CAAvB;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE,EAHP;AAQLC,EAAAA,MARK,oBAQK;AACNC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,mBAAxB,EAA6C,UAAUC,KAAV,EAAiB;AAC1DP,MAAAA,EAAE,CAACQ,GAAH,CAAO,oBAAoBH,MAAM,CAACI,WAAlC;AACA,UAAIC,YAAY,GAAGV,EAAE,CAACW,QAAH,CAAYC,QAAZ,GAAuBC,IAA1C,CAF0D,CAEG;;AAC7D,UAAIC,WAAW,GAAGJ,YAAY,CAACK,OAAb,CAAqB,GAArB,EAA0B,EAA1B,CAAlB;;AACA,UAAIf,EAAE,CAACgB,GAAH,CAAOC,QAAX,EAAoB;AAChB,YAAIjB,EAAE,CAACkB,IAAH,CAAQC,YAAR,IAAwBnB,EAAE,CAACoB,KAAH,CAASC,gBAArC,EAAuD;AACnDrB,UAAAA,EAAE,CAACkB,IAAH,CAAQI,cAAR,CAAuBtB,EAAE,CAACoB,KAAH,CAASC,gBAAhC;AACH;;AACD,YAAIhB,MAAM,CAACI,WAAP,IAAsB,GAAtB,IAA6BJ,MAAM,CAACI,WAAP,IAAsB,CAAvD,EAA+D;AAC/D;AACIT,YAAAA,EAAE,CAACQ,GAAH,CAAO,YAAYH,MAAM,CAACI,WAA1B;AAEAT,YAAAA,EAAE,CAACkB,IAAH,CAAQI,cAAR,CAAuBtB,EAAE,CAACoB,KAAH,CAASG,oBAAhC,EAHJ,CAII;;AACAvB,YAAAA,EAAE,CAACQ,GAAH,CAAO,kBAAkBM,WAAlB,GAAgC,GAAvC;AACAhB,YAAAA,SAAS,CAAC0B,MAAV,GAAiB,CAAjB;AACH;;AACD,YAAInB,MAAM,CAACI,WAAP,IAAsB,EAAtB,IAA4BJ,MAAM,CAACI,WAAP,IAAsB,CAAC,EAAvD,EAAgE;AAChE;AACIT,YAAAA,EAAE,CAACQ,GAAH,CAAO,YAAYH,MAAM,CAACI,WAA1B;AAEAT,YAAAA,EAAE,CAACkB,IAAH,CAAQI,cAAR,CAAuBtB,EAAE,CAACoB,KAAH,CAASK,qBAAhC,EAHJ,CAII;;AACAzB,YAAAA,EAAE,CAACQ,GAAH,CAAO,kBAAkBM,WAAzB;AACAhB,YAAAA,SAAS,CAAC0B,MAAV,GAAiB,CAAjB;AACH;AACJ,OAtBD,MAuBI;AACAxB,QAAAA,EAAE,CAACW,QAAH,CAAYe,SAAZ,CAAsBZ,WAAtB;AACAhB,QAAAA,SAAS,CAAC0B,MAAV,GAAiB,CAAjB;AACH;AACJ,KA/BD;AAgCH;AAzCI,CAAT","sourceRoot":"/","sourcesContent":["\r\nvar gameModel = require(\"Model\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    \r\n    },\r\n\r\n\r\n    onLoad () {\r\n        window.addEventListener('orientationchange', function (event) {\r\n            cc.log(\"：：：：：：：：：：：：：：：\" + window.orientation);\r\n            var currentScene = cc.director.getScene().name;              //当前场景\r\n            var changeScene = currentScene.replace('V', '');\r\n            if (cc.sys.isMobile){\r\n                if (cc.view._orientation != cc.macro.ORIENTATION_AUTO) {\r\n                    cc.view.setOrientation(cc.macro.ORIENTATION_AUTO);\r\n                }\r\n                if (window.orientation == 180 || window.orientation == 0)      //竖屏   -  创建旋转提示层\r\n                {\r\n                    cc.log(\"竖屏, 角度:\" + window.orientation);\r\n                    \r\n                    cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);\r\n                    //cc.director.loadScene(changeScene + 'V')\r\n                    cc.log(\"changeScene: \" + changeScene + 'V');\r\n                    gameModel.device=1;\r\n                }\r\n                if (window.orientation == 90 || window.orientation == -90)      //横屏   -  移除\r\n                {\r\n                    cc.log(\"横屏, 角度:\" + window.orientation);\r\n                    \r\n                    cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);\r\n                    //cc.director.loadScene(changeScene)\r\n                    cc.log(\"changeScene: \" + changeScene);\r\n                    gameModel.device=2;\r\n                }\r\n            }\r\n            else{\r\n                cc.director.loadScene(changeScene);\r\n                gameModel.device=2;\r\n            }\r\n        });\r\n    },\r\n});\r\n"]}