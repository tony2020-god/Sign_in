{"version":3,"sources":["assets\\3_whack_a_mole\\遊戲模塊\\Host_RandomSpawn.js"],"names":["RandenSpawnMouse","require","cc","Class","properties","onLoad","start","mouseIndexArr","schedule","MouseComeOut","director","getScene","_name","includes","RandomHit","updateMouseNodeInfo","mouse","tag","getComponent","isLive","randomHitIndex","Math","floor","random","mouseHoles","childrenCount","indexOf","children","getChildByName","hammer","Hit"],"mappings":";;;;;;AAAA,IAAIA,gBAAgB,GAAGC,OAAO,CAAC,qBAAD,CAA9B;;AAEAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASH,gBADJ;AAGLI,EAAAA,UAAU,EAAE,EAHP;AAOL;AAEAC,EAAAA,MATK,oBASK,CAAE,CATP;AAWLC,EAAAA,KAXK,mBAWI;AACL,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,QAAL,CAAc,YAAW;AACvB,WAAKC,YAAL;AACD,KAFD,EAEG,GAFH;;AAGA,QAAGP,EAAE,CAACQ,QAAH,CAAYC,QAAZ,GAAuBC,KAAvB,CAA6BC,QAA7B,CAAsC,YAAtC,CAAH,EACA;AACI,WAAKL,QAAL,CAAc,YAAW;AACrB,aAAKM,SAAL;AACD,OAFH,EAEK,GAFL;AAGH;AACJ,GAtBI;AAwBL;AACAC,EAAAA,mBAzBK,+BAyBeC,KAzBf,EAyBsBC,GAzBtB,EAyB2B;AAC5B;AACAD,IAAAA,KAAK,CAACE,YAAN,CAAmB,mBAAnB,EAAwCC,MAAxC,GAAiD,IAAjD,CAF4B,CAG5B;;AACAH,IAAAA,KAAK,CAACE,YAAN,CAAmB,mBAAnB,EAAwCD,GAAxC,GAA8CA,GAA9C;AACH,GA9BI;AAgCL;AACAH,EAAAA,SAjCK,uBAiCM;AACP,QAAIM,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAiB,KAAKC,UAAL,CAAgBC,aAA5C,CAArB,CADO,CAC4E;;AACnF,QAAI,KAAKlB,aAAL,CAAmBmB,OAAnB,CAA2BN,cAA3B,MAA+C,CAAnD,EACA;AACI,UAAIJ,KAAK,GAAG,KAAKQ,UAAL,CAAgBG,QAAhB,CAAyBP,cAAzB,EAAyCQ,cAAzC,CAAwD,IAAxD,EAA8DA,cAA9D,CAA6E,GAA7E,CAAZ,CADJ,CACmG;;AAC/F,UAAIC,MAAM,GAAG,KAAKL,UAAL,CAAgBG,QAAhB,CAAyBP,cAAzB,EAAyCQ,cAAzC,CAAwD,IAAxD,CAAb;AACAZ,MAAAA,KAAK,CAACE,YAAN,CAAmB,mBAAnB,EAAwCY,GAAxC,CAA4CD,MAA5C;AACH;AACJ,GAzCI,CA0CL;;AA1CK,CAAT","sourceRoot":"/","sourcesContent":["var RandenSpawnMouse = require(\"Guest4_Whack_a_mole\"); \r\n\r\ncc.Class({\r\n    extends: RandenSpawnMouse,\r\n\r\n    properties: {\r\n        \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {},\r\n\r\n    start () {\r\n        this.mouseIndexArr = []\r\n        this.schedule(function() { \r\n          this.MouseComeOut()\r\n        }, 0.5);\r\n        if(cc.director.getScene()._name.includes(\"Host3_Game\")) \r\n        {\r\n            this.schedule(function() { \r\n                this.RandomHit();\r\n              }, 0.2);\r\n        }\r\n    },\r\n\r\n    //設置地鼠資訊\r\n    updateMouseNodeInfo(mouse, tag) {\r\n        //設置當前老鼠節點爲存活\r\n        mouse.getComponent(\"Host_MouseManager\").isLive = true;\r\n        //將老鼠類型序號作爲標籤添加到老鼠節點上\r\n        mouse.getComponent(\"Host_MouseManager\").tag = tag;\r\n    },\r\n\r\n    //隨機打地鼠\r\n    RandomHit(){\r\n        let randomHitIndex = Math.floor(Math.random() * (this.mouseHoles.childrenCount));  //隨機鼠洞\r\n        if (this.mouseIndexArr.indexOf(randomHitIndex) === 1) \r\n        {\r\n            var mouse = this.mouseHoles.children[randomHitIndex].getChildByName(\"遮罩\").getChildByName(\"鼠\"); //mouse = 隨機洞的老鼠\r\n            var hammer = this.mouseHoles.children[randomHitIndex].getChildByName(\"槌子\")\r\n            mouse.getComponent(\"Host_MouseManager\").Hit(hammer);\r\n        }\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}