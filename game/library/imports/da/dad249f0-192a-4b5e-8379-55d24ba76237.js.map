{"version":3,"sources":["assets\\4._Q&A\\程式碼\\Guest2_Game.js"],"names":["gameModel","require","Guest1_WaitingForQuestion","cc","Class","properties","Options","type","Node","UnChooseOption","SpriteFrame","WrongChoose","Question","Label","onLoad","ColorString","node","getComponent","CurrentChoose","state","Answer","start","LightBlueColor","colorOfString","DarkBlueColor","GrayColor","WhiteColor","RedColor","GreenColor","string","QuestionCount","UpdateRankScore","i","getChildByName","OpacityAni","ChooseOptions","event","customEventData","GameStatusMessage","color","sp","Skeleton","setAnimation","self","scheduleOnce","timeScale","opacity","ShowAnswer","tween","to","update","dt","Score","director","loadScene"],"mappings":";;;;;;AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,OAAD,CAAvB;;AACA,IAAIC,yBAAyB,GAAGD,OAAO,CAAC,2BAAD,CAAvC;;AAEAE,EAAE,CAACC,KAAH,CAAS;AACL,aAASF,yBADJ;AAGLG,EAAAA,UAAU,EAAE;AACRC,IAAAA,OAAO,EAAE;AACL,iBAAS,EADJ;AAELC,MAAAA,IAAI,EAAEJ,EAAE,CAACK;AAFJ,KADD;AAMRC,IAAAA,cAAc,EAAE;AACZ,iBAAS,IADG;AAEZF,MAAAA,IAAI,EAAEJ,EAAE,CAACO;AAFG,KANR;AAWRC,IAAAA,WAAW,EAAE;AACT,iBAAS,EADA;AAETJ,MAAAA,IAAI,EAAEJ,EAAE,CAACO;AAFA,KAXL;AAgBRE,IAAAA,QAAQ,EAAE;AACN,iBAAS,IADH;AAENL,MAAAA,IAAI,EAAEJ,EAAE,CAACU;AAFH;AAhBF,GAHP;AA0BLC,EAAAA,MA1BK,oBA0BK;AACN,SAAKC,WAAL,GAAmB,KAAKC,IAAL,CAAUC,YAAV,CAAuB,aAAvB,CAAnB;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKC,KAAL,GAAa,CAAb;AACAnB,IAAAA,SAAS,CAACoB,MAAV,GAAmB,CAAnB;AACH,GA/BI;AAiCLC,EAAAA,KAjCK,mBAiCI;AACN,SAAKC,cAAL,GAAsB,KAAKP,WAAL,CAAiBQ,aAAjB,CAA+B,SAA/B,CAAtB,CADM,CAC0D;;AAChE,SAAKC,aAAL,GAAqB,KAAKT,WAAL,CAAiBQ,aAAjB,CAA+B,SAA/B,CAArB,CAFM,CAEyD;;AAC/D,SAAKE,SAAL,GAAiB,KAAKV,WAAL,CAAiBQ,aAAjB,CAA+B,SAA/B,CAAjB,CAHM,CAGqD;;AAC3D,SAAKG,UAAL,GAAkB,KAAKX,WAAL,CAAiBQ,aAAjB,CAA+B,SAA/B,CAAlB,CAJM,CAIsD;;AAC5D,SAAKI,QAAL,GAAgB,KAAKZ,WAAL,CAAiBQ,aAAjB,CAA+B,SAA/B,CAAhB,CALM,CAKoD;;AAC1D,SAAKK,UAAL,GAAkB,KAAKb,WAAL,CAAiBQ,aAAjB,CAA+B,SAA/B,CAAlB,CANM,CAMsD;;AAC5D,SAAKX,QAAL,CAAciB,MAAd,GAAuB7B,SAAS,CAACY,QAAV,CAAmBZ,SAAS,CAAC8B,aAA7B,CAAvB;AACA,SAAKC,eAAL;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EAA2B;AAC1B;AACI,WAAK1B,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,EAAuChB,YAAvC,CAAoDd,EAAE,CAACU,KAAvD,EAA8DgB,MAA9D,GAAuE7B,SAAS,CAACM,OAAV,CAAkB0B,CAAlB,CAAvE;AACA,WAAKE,UAAL,CAAgB,KAAK5B,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,CAAhB;AACA,WAAKC,UAAL,CAAgB,KAAK5B,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,CAAhB;AACH;AACJ,GAhDI;AAmDLE,EAAAA,aAnDK,yBAmDSC,KAnDT,EAmDgBC,eAnDhB,EAmDgC;AACjC,QAAGrC,SAAS,CAACsC,iBAAV,IAA+B,KAA/B,IAAwC,KAAKpB,aAAL,IAAsBmB,eAAjE,EAAkF;;AAClF,SAAI,IAAIL,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EAA2B;AAC3B;AACI,WAAKd,aAAL,GAAqBmB,eAArB;AACA,WAAK/B,OAAL,CAAa0B,CAAb,EAAgBO,KAAhB,GAAwBP,CAAC,IAAIK,eAAL,GAAuB,KAAKX,UAA5B,GAAyC,KAAKD,SAAtE;;AACA,UAAGO,CAAC,IAAIK,eAAR,EACA;AACI,aAAKH,UAAL,CAAgB,KAAK5B,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,KAA/B,CAAhB;AACA,aAAK3B,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,KAA/B,EAAsChB,YAAtC,CAAmDuB,EAAE,CAACC,QAAtD,EAAgEC,YAAhE,CAA6E,CAA7E,EAA+E,cAA/E,EAA8F,KAA9F;AACA,YAAIC,IAAI,GAAG,KAAKrC,OAAL,CAAa0B,CAAb,CAAX;AACA,aAAKY,YAAL,CAAkB,YAAW;AACzBD,UAAAA,IAAI,CAACV,cAAL,CAAoB,KAApB,EAA2BhB,YAA3B,CAAwCuB,EAAE,CAACC,QAA3C,EAAqDI,SAArD,GAAiE,CAAjE;AACAF,UAAAA,IAAI,CAACV,cAAL,CAAoB,KAApB,EAA2BhB,YAA3B,CAAwCuB,EAAE,CAACC,QAA3C,EAAqDC,YAArD,CAAkE,CAAlE,EAAoE,WAApE,EAAgF,IAAhF;AACH,SAHD,EAGG,CAHH;AAIH,OATD,MAUK,KAAKpC,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,KAA/B,EAAsCa,OAAtC,GAAgD,CAAhD;;AACL,WAAKxC,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,EAAuCM,KAAvC,GAA+C,KAAKjC,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,EAAuCM,KAAvC,GAA+CP,CAAC,IAAIK,eAAL,GAAuB,KAAKf,cAA5B,GAA6C,KAAKE,aAAhJ;AACH;AACJ,GAtEI;AAwELuB,EAAAA,UAxEK,wBAwEO;AACR/C,IAAAA,SAAS,CAACsC,iBAAV,GAA8B,KAA9B;AACH,GA1EI;AA6ELJ,EAAAA,UA7EK,sBA6EMlB,IA7EN,EA6EW;AACZA,IAAAA,IAAI,CAAC8B,OAAL,GAAe,CAAf;AACA3C,IAAAA,EAAE,CAAC6C,KAAH,CAAShC,IAAT,EACCiC,EADD,CACI,GADJ,EACS;AAACH,MAAAA,OAAO,EAAE;AAAV,KADT,EAECzB,KAFD;AAGH,GAlFI;AAoFL6B,EAAAA,MApFK,kBAoFGC,EApFH,EAoFO;AACR,QAAGnD,SAAS,CAACsC,iBAAV,IAA+B,KAA/B,IAAwC,KAAKnB,KAAL,IAAc,CAAzD,EACA;AACI,WAAKA,KAAL,GAAa,CAAb;;AACA,WAAI,IAAIa,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EAA2B;AAC3B;AACE,YAAGA,CAAC,IAAIhC,SAAS,CAACoB,MAAlB,EACA;AACE,eAAKd,OAAL,CAAa0B,CAAb,EAAgBO,KAAhB,GAAwB,KAAKb,UAA7B;AACA,eAAKpB,OAAL,CAAa0B,CAAb,EAAgBf,YAAhB,CAA6BuB,EAAE,CAACC,QAAhC,EAA0CC,YAA1C,CAAuD,CAAvD,EAAyD,OAAzD,EAAiE,KAAjE;AACA,eAAKpC,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,EAAuCM,KAAvC,GAA+C,KAAKjC,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,EAAuCM,KAAvC,GAA+C,KAAKjC,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,KAA/B,EAAsCM,KAAtC,GAA8C,KAAKX,UAAjJ;AAEA,eAAKM,UAAL,CAAgB,KAAK5B,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,CAAhB;AACA,eAAKC,UAAL,CAAgB,KAAK5B,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,CAAhB;AACD,SARD,MASK,IAAID,CAAC,IAAIhC,SAAS,CAACoB,MAAhB,IAA2B,KAAKF,aAAL,IAAsB,EAApD,EACL;AACE,eAAKZ,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,EAAuCM,KAAvC,GAA+C,KAAKjC,OAAL,CAAa0B,CAAb,EAAgBC,cAAhB,CAA+B,MAA/B,EAAuCM,KAAvC,GAA+C,KAAKf,aAAnG;AACA,eAAKlB,OAAL,CAAa0B,CAAb,EAAgBO,KAAhB,GAAwB,KAAKd,SAA7B;AACD;AACF;;AACD,UAAG,KAAKP,aAAL,IAAsBlB,SAAS,CAACoB,MAAhC,IAA0C,KAAKF,aAAL,IAAsB,EAAnE,EACA;AACI,aAAKZ,OAAL,CAAa,KAAKY,aAAlB,EAAiCD,YAAjC,CAA8CuB,EAAE,CAACC,QAAjD,EAA2DC,YAA3D,CAAwE,CAAxE,EAA0E,OAA1E,EAAkF,KAAlF;AACA,aAAKpC,OAAL,CAAa,KAAKY,aAAlB,EAAiCe,cAAjC,CAAgD,MAAhD,EAAwDM,KAAxD,GAAgE,KAAKjC,OAAL,CAAa,KAAKY,aAAlB,EAAiCe,cAAjC,CAAgD,MAAhD,EAAwDM,KAAxD,GAAgE,KAAKjC,OAAL,CAAa,KAAKY,aAAlB,EAAiCe,cAAjC,CAAgD,KAAhD,EAAuDM,KAAvD,GAA8D,KAAKZ,QAAnM;AACH,OAJD,MAKK,KAAKyB,KAAL,CAAWvB,MAAX,GAAoB7B,SAAS,CAACoD,KAAV,GAAkB,CAAtC;AACR,KA1BD,MA2BK,IAAGpD,SAAS,CAACsC,iBAAV,IAA+B,MAA/B,IAAyC,KAAKnB,KAAL,IAAc,CAA1D,EAA6DhB,EAAE,CAACkD,QAAH,CAAYC,SAAZ,CAAsB,iBAAtB;AACrE;AAjHI,CAAT","sourceRoot":"/","sourcesContent":["var gameModel = require(\"Model\");\r\nvar Guest1_WaitingForQuestion = require(\"Guest1_WaitingForQuestion\");\r\n\r\ncc.Class({\r\n    extends: Guest1_WaitingForQuestion,\r\n\r\n    properties: {\r\n        Options :{\r\n            default: [],\r\n            type: cc.Node\r\n        },\r\n\r\n        UnChooseOption :{\r\n            default: null,\r\n            type: cc.SpriteFrame\r\n        },\r\n\r\n        WrongChoose :{\r\n            default: [],\r\n            type: cc.SpriteFrame\r\n        },\r\n\r\n        Question :{\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n    },\r\n\r\n\r\n    onLoad () {\r\n        this.ColorString = this.node.getComponent('ColorString')\r\n        this.CurrentChoose = \"\"\r\n        this.state = 0\r\n        gameModel.Answer = 3\r\n    },\r\n\r\n    start () {\r\n       this.LightBlueColor = this.ColorString.colorOfString('#88FCFE') //淺藍色\r\n       this.DarkBlueColor = this.ColorString.colorOfString(\"#203E3E\") //深灰藍色\r\n       this.GrayColor = this.ColorString.colorOfString(\"#515050\") //灰色\r\n       this.WhiteColor = this.ColorString.colorOfString(\"#FFFFFF\") //白色 \r\n       this.RedColor = this.ColorString.colorOfString(\"#FF1D1D\") //紅色 \r\n       this.GreenColor = this.ColorString.colorOfString(\"#1DFF61\") //綠色 \r\n       this.Question.string = gameModel.Question[gameModel.QuestionCount]\r\n       this.UpdateRankScore();\r\n       for(var i = 0; i < 4; i++) //更新選項文字\r\n        {\r\n            this.Options[i].getChildByName(\"選項文字\").getComponent(cc.Label).string = gameModel.Options[i];\r\n            this.OpacityAni(this.Options[i].getChildByName(\"選項文字\"))\r\n            this.OpacityAni(this.Options[i].getChildByName(\"選項字母\"))\r\n        }\r\n    },\r\n\r\n\r\n    ChooseOptions(event, customEventData){\r\n        if(gameModel.GameStatusMessage == \"end\" || this.CurrentChoose == customEventData) return;\r\n        for(var i = 0; i < 4; i++) //更新選項圖片\r\n        {\r\n            this.CurrentChoose = customEventData\r\n            this.Options[i].color = i == customEventData ? this.WhiteColor : this.GrayColor;\r\n            if(i == customEventData)\r\n            {\r\n                this.OpacityAni(this.Options[i].getChildByName(\"外框燈\"))\r\n                this.Options[i].getChildByName(\"外框燈\").getComponent(sp.Skeleton).setAnimation(0,\"Lightflicker\",false); \r\n                var self = this.Options[i]\r\n                this.scheduleOnce(function() { \r\n                    self.getChildByName(\"外框燈\").getComponent(sp.Skeleton).timeScale = 1\r\n                    self.getChildByName(\"外框燈\").getComponent(sp.Skeleton).setAnimation(0,\"lightning\",true); \r\n                }, 1);\r\n            }\r\n            else this.Options[i].getChildByName(\"外框燈\").opacity = 0\r\n            this.Options[i].getChildByName(\"選項字母\").color = this.Options[i].getChildByName(\"選項文字\").color = i == customEventData ? this.LightBlueColor : this.DarkBlueColor\r\n        }\r\n    },\r\n\r\n    ShowAnswer(){\r\n        gameModel.GameStatusMessage = \"end\"\r\n    },\r\n\r\n        \r\n    OpacityAni(node){\r\n        node.opacity = 0\r\n        cc.tween(node)\r\n        .to(0.3, {opacity: 255})\r\n        .start();\r\n    },\r\n\r\n    update (dt) {\r\n        if(gameModel.GameStatusMessage == \"end\" && this.state == 0)\r\n        {\r\n            this.state = 1\r\n            for(var i = 0; i < 4; i++) //更新選項正確還錯誤\r\n            {\r\n              if(i == gameModel.Answer) \r\n              {\r\n                this.Options[i].color = this.WhiteColor\r\n                this.Options[i].getComponent(sp.Skeleton).setAnimation(0,\"right\",false); \r\n                this.Options[i].getChildByName(\"選項文字\").color = this.Options[i].getChildByName(\"選項字母\").color = this.Options[i].getChildByName(\"外框燈\").color = this.GreenColor\r\n\r\n                this.OpacityAni(this.Options[i].getChildByName(\"選項文字\"))\r\n                this.OpacityAni(this.Options[i].getChildByName(\"選項字母\"))\r\n              }\r\n              else if((i != gameModel.Answer) && this.CurrentChoose == \"\")\r\n              {\r\n                this.Options[i].getChildByName(\"選項文字\").color = this.Options[i].getChildByName(\"選項字母\").color = this.DarkBlueColor\r\n                this.Options[i].color = this.GrayColor\r\n              }\r\n            }\r\n            if(this.CurrentChoose != gameModel.Answer && this.CurrentChoose != \"\") \r\n            {\r\n                this.Options[this.CurrentChoose].getComponent(sp.Skeleton).setAnimation(0,\"Wrong\",false); \r\n                this.Options[this.CurrentChoose].getChildByName(\"選項文字\").color = this.Options[this.CurrentChoose].getChildByName(\"選項字母\").color = this.Options[this.CurrentChoose].getChildByName(\"外框燈\").color =this.RedColor\r\n            }\r\n            else this.Score.string = gameModel.Score + 1;\r\n        } \r\n        else if(gameModel.GameStatusMessage == \"next\" && this.state == 1) cc.director.loadScene(\"WaitingQuestion\")\r\n    },\r\n\r\n});\r\n"]}