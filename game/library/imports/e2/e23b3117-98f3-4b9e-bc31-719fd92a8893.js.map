{"version":3,"sources":["assets\\3_whack_a_mole\\遊戲模塊\\Host_MouseManager.js"],"names":["MouseManager","require","cc","Class","properties","onLoad","HolesParent","find","GameManager","getComponent","start","StartPosition","node","position","HitAniTarget","delytime","AddPoint_OriPos","AddPoint","MinusPoint_OriPos","MinusPoint","Hit","hammer","isLive","mouseani","stop","setPosition","Sprite","spriteFrame","tag","bomb","dead","active","scheduleOnce","Label","string","HitAnimation","opacity","ResetHole"],"mappings":";;;;;;AAAA,IAAIA,YAAY,GAAGC,OAAO,CAAC,oBAAD,CAA1B;;AAEAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASH,YADJ;AAGLI,EAAAA,UAAU,EAAE,EAHP;AAOL;AAEAC,EAAAA,MATK,oBASK;AACN,SAAKC,WAAL,GAAmBJ,EAAE,CAACK,IAAH,CAAQ,WAAR,CAAnB;AACA,SAAKC,WAAL,GAAmBN,EAAE,CAACK,IAAH,CAAQ,IAAR,EAAcE,YAAd,CAA2B,kBAA3B,CAAnB;AACH,GAZI;AAcLC,EAAAA,KAdK,mBAcI;AACL,SAAKC,aAAL,GAAqB,KAAKC,IAAL,CAAUC,QAA/B;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,eAAL,GAAuB,KAAKC,QAAL,CAAcJ,QAArC;AACA,SAAKK,iBAAL,GAAyB,KAAKC,UAAL,CAAgBN,QAAzC;AACH,GApBI;AAsBLO,EAAAA,GAtBK,eAsBDC,MAtBC,EAsBO;AACR,QAAG,KAAKC,MAAL,IAAe,IAAlB,EACA;AACG,WAAKC,QAAL,CAAcC,IAAd;AACA,WAAKF,MAAL,GAAc,KAAd;AACA,WAAKV,IAAL,CAAUa,WAAV,CAAsB,CAAtB,EAAyB,CAAC,OAA1B,EAAmC,CAAnC;AACA,WAAKb,IAAL,CAAUH,YAAV,CAAuBP,EAAE,CAACwB,MAA1B,EAAkCC,WAAlC,GAAgD,KAAKC,GAAL,IAAY,CAAZ,GAAgB,KAAKC,IAArB,GAA4B,KAAKC,IAAjF;AACAT,MAAAA,MAAM,CAACU,MAAP,GAAgB,IAAhB;AACA,WAAKC,YAAL,CAAkB,YAAW;AAACX,QAAAA,MAAM,CAACU,MAAP,GAAgB,KAAhB;AAAsB,OAApD,EAAsD,GAAtD,EANH,CAOG;;AACA,UAAG,KAAKH,GAAL,GAAW,CAAd,EACA;AACG,aAAKX,QAAL,CAAcR,YAAd,CAA2BP,EAAE,CAAC+B,KAA9B,EAAqCC,MAArC,GAA8C,KAAKN,GAAL,IAAY,CAAZ,GAAgB,CAAhB,GAAoB,CAAlE;AACA,aAAKX,QAAL,CAAcc,MAAd,GAAuB,IAAvB;AACA,aAAKjB,YAAL,GAAoB,KAAKG,QAAzB;AACF,OALD,MAMK,IAAI,KAAKW,GAAL,IAAY,CAAhB,EACL;AACE,aAAKT,UAAL,CAAgBY,MAAhB,GAAyB,IAAzB;AACA,aAAKjB,YAAL,GAAoB,KAAKK,UAAzB;AACD;;AACD,WAAKgB,YAAL;AACA,WAAKH,YAAL,CAAkB,YAAW;AAC3B,aAAKlB,YAAL,CAAkBsB,OAAlB,GAA4B,GAA5B;AACA,aAAKnB,QAAL,CAAcc,MAAd,GAAuB,KAAvB;AACA,aAAKd,QAAL,CAAcJ,QAAd,GAAyB,KAAKG,eAA9B;AACA,aAAKG,UAAL,CAAgBY,MAAhB,GAAyB,KAAzB;AACA,aAAKZ,UAAL,CAAgBN,QAAhB,GAA2B,KAAKK,iBAAhC;AACA,aAAKmB,SAAL;AACD,OAPD,EAOG,GAPH;AAQF;AACJ,GArDI,CAsDL;;AAtDK,CAAT","sourceRoot":"/","sourcesContent":["var MouseManager = require(\"Guest_MouseManager\");\r\n\r\ncc.Class({\r\n    extends: MouseManager,\r\n\r\n    properties: {\r\n        \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.HolesParent = cc.find(\"畫布/場景/地鼠洞\")\r\n        this.GameManager = cc.find(\"畫布\").getComponent(\"Host_RandomSpawn\")\r\n    },\r\n\r\n    start () {\r\n        this.StartPosition = this.node.position;\r\n        this.HitAniTarget = null;\r\n        this.delytime = 0\r\n        this.AddPoint_OriPos = this.AddPoint.position;\r\n        this.MinusPoint_OriPos = this.MinusPoint.position;\r\n    },\r\n\r\n    Hit(hammer) {\r\n        if(this.isLive == true)\r\n        {\r\n           this.mouseani.stop();\r\n           this.isLive = false;\r\n           this.node.setPosition(0, -185.826, 0)\r\n           this.node.getComponent(cc.Sprite).spriteFrame = this.tag == 2 ? this.bomb : this.dead  \r\n           hammer.active = true\r\n           this.scheduleOnce(function() {hammer.active = false}, 0.3);\r\n           //執行老鼠的算分函數及打到動畫\r\n           if(this.tag < 2) \r\n           {\r\n              this.AddPoint.getComponent(cc.Label).string = this.tag == 0 ? 1 : 3\r\n              this.AddPoint.active = true;\r\n              this.HitAniTarget = this.AddPoint;\r\n           }\r\n           else if (this.tag == 2) \r\n           {\r\n             this.MinusPoint.active = true;\r\n             this.HitAniTarget = this.MinusPoint;\r\n           }\r\n           this.HitAnimation()\r\n           this.scheduleOnce(function() { \r\n             this.HitAniTarget.opacity = 255\r\n             this.AddPoint.active = false;\r\n             this.AddPoint.position = this.AddPoint_OriPos\r\n             this.MinusPoint.active = false;\r\n             this.MinusPoint.position = this.MinusPoint_OriPos\r\n             this.ResetHole();\r\n           }, 0.5);\r\n        }\r\n    },\r\n    // update (dt) {},\r\n});\r\n"]}