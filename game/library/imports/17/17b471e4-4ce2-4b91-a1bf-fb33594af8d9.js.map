{"version":3,"sources":["assets\\共用模塊\\Host1_Begin.js"],"names":["gameModel","require","cc","Class","Component","properties","round","type","Label","NowPeople","aud","AudioSource","Session","WrongAlert","Node","onLoad","connet_ws","string","AlertText","find","start","director","preloadScene","touchBegin","people","getComponent","active","XMLTimeLimit","gametimeCountDown","gametimelimit","CurrentRound","WebSocket_GameStatus_Host","scheduleOnce","GameStatusMessage","loadScene","BackGround_Theme","CloseAlert","update","dt"],"mappings":";;;;;;AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,OAAD,CAAvB,EAEA;;;AACAC,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACRC,IAAAA,KAAK,EAAC;AACF,iBAAQ,IADN;AAEFC,MAAAA,IAAI,EAACL,EAAE,CAACM;AAFN,KADE;AAMRC,IAAAA,SAAS,EAAC;AACN,iBAAQ,IADF;AAENF,MAAAA,IAAI,EAACL,EAAE,CAACM;AAFF,KANF;AAWRE,IAAAA,GAAG,EAAC;AACA,iBAAQ,IADR;AAEAH,MAAAA,IAAI,EAACL,EAAE,CAACS;AAFR,KAXI;AAgBRC,IAAAA,OAAO,EAAC;AACJ,iBAAQ,IADJ;AAEJL,MAAAA,IAAI,EAACL,EAAE,CAACM;AAFJ,KAhBA;AAqBRK,IAAAA,UAAU,EAAC;AACP,iBAAQ,IADD;AAEPN,MAAAA,IAAI,EAACL,EAAE,CAACY;AAFD;AArBH,GAHP;AA8BLC,EAAAA,MA9BK,oBA8BK;AACNf,IAAAA,SAAS,CAACgB,SAAV,GAAsB,KAAtB;AACA,SAAKJ,OAAL,CAAaK,MAAb,GAAsB,YAAYjB,SAAS,CAACY,OAA5C;AACA,SAAKM,SAAL,GAAiBhB,EAAE,CAACiB,IAAH,CAAQ,YAAR,CAAjB;AACH,GAlCI;AAqCLC,EAAAA,KArCK,mBAqCI;AACLlB,IAAAA,EAAE,CAACmB,QAAH,CAAYC,YAAZ,CAAyB,YAAzB;AACH,GAvCI;AA0CLC,EAAAA,UA1CK,wBA0CQ;AACT,QAAGvB,SAAS,CAACwB,MAAV,IAAoB,CAAvB,EACA;AACI,WAAKN,SAAL,CAAeO,YAAf,CAA4BvB,EAAE,CAACM,KAA/B,EAAsCS,MAAtC,GAA+C,WAA/C;AACA,WAAKJ,UAAL,CAAgBa,MAAhB,GAAyB,IAAzB;AACH,KAJD,MAMA;AACI,UAAG1B,SAAS,CAAC2B,YAAV,IAA0B,IAA7B,EAAmC3B,SAAS,CAAC4B,iBAAV,GAA8B5B,SAAS,CAAC6B,aAAxC;AACnC7B,MAAAA,SAAS,CAAC8B,YAAV,GAAyB9B,SAAS,CAACM,KAAnC;AACAN,MAAAA,SAAS,CAAC+B,yBAAV,CAAoC,OAApC,EAA4C,GAA5C;AACA,WAAKC,YAAL,CAAkB,YAAW;AACzB,YAAGhC,SAAS,CAACgB,SAAV,IAAuB,IAA1B,EACA;AACEhB,UAAAA,SAAS,CAACiC,iBAAV,GAA8B,OAA9B;AACA/B,UAAAA,EAAE,CAACmB,QAAH,CAAYa,SAAZ,CAAsB,oBAAmBlC,SAAS,CAACmC,gBAAnD;AACAnC,UAAAA,SAAS,CAACgB,SAAV,GAAsB,KAAtB;AACD,SALD,MAOA;AACI,eAAKE,SAAL,CAAeO,YAAf,CAA4BvB,EAAE,CAACM,KAA/B,EAAsCS,MAAtC,GAA+C,UAA/C;AACA,eAAKJ,UAAL,CAAgBa,MAAhB,GAAyB,IAAzB;AACH;AACJ,OAZD,EAYG,GAZH;AAaH;AACJ,GAnEI;AAqELU,EAAAA,UArEK,wBAqEO;AACR,SAAKvB,UAAL,CAAgBa,MAAhB,GAAyB,KAAzB;AACH,GAvEI;AAyELW,EAAAA,MAzEK,kBAyEGC,EAzEH,EAyEO;AACR,SAAKhC,KAAL,CAAWW,MAAX,GAAoBjB,SAAS,CAACM,KAA9B;AACA,SAAKG,SAAL,CAAeQ,MAAf,GAAwBjB,SAAS,CAACwB,MAAlC;AACH;AA5EI,CAAT","sourceRoot":"/","sourcesContent":["var gameModel = require(\"Model\");\r\n\r\n///主持人開始場景js\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        round:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n\r\n        NowPeople:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n\r\n        aud:{\r\n            default:null,\r\n            type:cc.AudioSource\r\n        },\r\n\r\n        Session:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        \r\n        WrongAlert:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n    },\r\n    \r\n    onLoad () {\r\n        gameModel.connet_ws = false\r\n        this.Session.string = \"當前場次 : \" + gameModel.Session; \r\n        this.AlertText = cc.find(\"畫布/警告/警告文字\")   \r\n    },\r\n\r\n\r\n    start () {\r\n        cc.director.preloadScene(\"Host3_Game\")\r\n    },\r\n\r\n\r\n    touchBegin (){\r\n        if(gameModel.people == 0) \r\n        {\r\n            this.AlertText.getComponent(cc.Label).string = \"尚未有玩家加入遊戲\";\r\n            this.WrongAlert.active = true;\r\n        }\r\n        else \r\n        {\r\n            if(gameModel.XMLTimeLimit == true) gameModel.gametimeCountDown = gameModel.gametimelimit;\r\n            gameModel.CurrentRound = gameModel.round;\r\n            gameModel.WebSocket_GameStatus_Host(\"start\",0.1)\r\n            this.scheduleOnce(function() { \r\n                if(gameModel.connet_ws == true)\r\n                {\r\n                  gameModel.GameStatusMessage = \"start\"\r\n                  cc.director.loadScene(\"Host2_CountDown\"+ gameModel.BackGround_Theme);\r\n                  gameModel.connet_ws = false\r\n                }\r\n                else\r\n                {\r\n                    this.AlertText.getComponent(cc.Label).string = \"尚未與伺服器連接\";\r\n                    this.WrongAlert.active = true;\r\n                }\r\n            }, 0.7);\r\n        }\r\n    },\r\n\r\n    CloseAlert(){\r\n        this.WrongAlert.active = false;\r\n    },\r\n   \r\n    update (dt) {\r\n        this.round.string = gameModel.round;\r\n        this.NowPeople.string = gameModel.people;\r\n    },\r\n});\r\n"]}